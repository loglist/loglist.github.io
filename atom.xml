<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hpl’s blog</title>
  
  
  <link href="http://loglist.github.io/atom.xml" rel="self"/>
  
  <link href="http://loglist.github.io/"/>
  <updated>2020-11-05T13:58:28.128Z</updated>
  <id>http://loglist.github.io/</id>
  
  <author>
    <name>Hpl</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>react案例-简书</title>
    <link href="http://loglist.github.io/2020/11/05/react%E6%A1%88%E4%BE%8B-%E7%AE%80%E4%B9%A6/"/>
    <id>http://loglist.github.io/2020/11/05/react%E6%A1%88%E4%BE%8B-%E7%AE%80%E4%B9%A6/</id>
    <published>2020-11-05T13:52:33.000Z</published>
    <updated>2020-11-05T13:58:28.128Z</updated>
    
    
    <summary type="html">react极简笔记只是基础，完成实际案例才能让我对react更加醇熟！</summary>
    
    
    
    <category term="Code" scheme="http://loglist.github.io/categories/Code/"/>
    
    
    <category term="react" scheme="http://loglist.github.io/tags/react/"/>
    
    <category term="project" scheme="http://loglist.github.io/tags/project/"/>
    
  </entry>
  
  <entry>
    <title>axios get 不到 Charles map local 的接口数据</title>
    <link href="http://loglist.github.io/2020/10/29/whyAxiosCan%E2%80%99tGetCharlesMapLocalData/"/>
    <id>http://loglist.github.io/2020/10/29/whyAxiosCan%E2%80%99tGetCharlesMapLocalData/</id>
    <published>2020-10-29T06:42:44.000Z</published>
    <updated>2020-10-29T07:10:03.966Z</updated>
    
    <content type="html"><![CDATA[<p>之前学习react课程的过程中，在用Charles模拟本地接口数据供Ajax请求时，一直在报错，这是为什么？有<a href="https://www.charlesproxy.com/documentation/faqs/localhost-traffic-doesnt-appear-in-charles/" target="_blank" rel="external nofollow noopener noreferrer">官方文档</a>指出，这里就略过了。<br><del>大致意思是代理的问题吧。</del><br>参照着一些<a href="https://blog.csdn.net/weixin_43735348/article/details/100824002" target="_blank" rel="external nofollow noopener noreferrer">博客</a>，还是没解决掉这个问题。<br>然后就意识到可能是代理出了错。</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ol><li>确定你没有开启诸如proxyfier、v2rayN之类的软件，这类软件会代理系统的某些http端口。总之，关掉就是了。</li><li><span class="p red">修改 网络——>代理——>手动代理 设置为 http://127.0.0.1:8888</span>，以WIN10举例，如下图。 <img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029150220.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029150220.jpg" srcset="data:image/png;base64,666" alt="8888"><br> 这里我按照博客尝试了很多，比如修改host、react的json文件、或是axios get方法中的路径等——没有奏效。只用改代理端口为8888就好。</li><li>修改Charles的Tools -&gt; Map Local Settings -&gt; Edit Mapping, 如下图。<br><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029150315.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029150315.jpg" srcset="data:image/png;base64,666" alt="editmapping"></li></ol><h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p>于是，就有<img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029150340.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029150340.jpg" srcset="data:image/png;base64,666" alt="succ"><br>看到那个 <strong>Remote Address</strong> 没？</p>]]></content>
    
    
    <summary type="html">why axios can’t get charles map local data? It&#39;s the error about proxy.</summary>
    
    
    
    <category term="Skill" scheme="http://loglist.github.io/categories/Skill/"/>
    
    
    <category term="Charles" scheme="http://loglist.github.io/tags/Charles/"/>
    
    <category term="proxy" scheme="http://loglist.github.io/tags/proxy/"/>
    
  </entry>
  
  <entry>
    <title>Jsdelivr限制50M怎么办</title>
    <link href="http://loglist.github.io/2020/10/26/Jsdeivr%E9%99%90%E5%88%B650M%E5%90%8E%E6%80%8E%E4%B9%88%E5%8A%9E/"/>
    <id>http://loglist.github.io/2020/10/26/Jsdeivr%E9%99%90%E5%88%B650M%E5%90%8E%E6%80%8E%E4%B9%88%E5%8A%9E/</id>
    <published>2020-10-26T14:03:08.000Z</published>
    <updated>2020-10-27T18:50:16.405Z</updated>
    
    <content type="html"><![CDATA[<p>后来,我遇到了这个问题，尝试使用tag来解决。诚然，每逢50M打上tag-release之后的包jsdeivr会进行cdn加速，而且也<span class="p red">不会被删除</span>。</p><a id="more"></a><p>但是，在从master转成v1【tag】这段时间内，你仍需要用master作为路径，<strong>总不能写一篇文章tag一次吧</strong>——也不是不行。</p><h3 id="需要做什么"><a href="#需要做什么" class="headerlink" title="需要做什么"></a>需要做什么</h3><p>利用piggo+github-plus方便地管理本地与github-repo端的图片内容一致。这个前提下，遇到“Package size exceeded the configured limit of 50 MB.”这个情况，你就可以将这张图片之前的所有图片tag出去。</p><h3 id="还要怎么做"><a href="#还要怎么做" class="headerlink" title="还要怎么做"></a>还要怎么做</h3><p>为了接着使用master分支，除非你能在网页端建立一个<strong>空分支</strong>，接着用github-plus插件在本地删掉相册里的图片。之后，利用github-plus的Sync Origin将删除图片的行为同步至github-repo端。这似乎已经完成了！但，在开始之前，你仍需要pull origin一下，<strong>保证两端的一致性</strong>。</p><h3 id="还能做些什么"><a href="#还能做些什么" class="headerlink" title="还能做些什么"></a>还能做些什么</h3><p>tag出去的图片包均能正常显示，接下来就是更换旧文章里的图片路径了，这似乎很头疼？不，借助vscode可以在_post里直接替换master字样，<kbd>Crtl</kbd>+<kbd>H</kbd>并一次性替换。<psw>这世间还有什么能比愉快地白嫖更令我感激涕零？</psw></p><h3 id="似乎没有了"><a href="#似乎没有了" class="headerlink" title="似乎没有了"></a>似乎没有了</h3><p>这几天用picgo的时候，总是遇到这样那样的问题！我打开picgo日志，找了issue，原因可能在于网络问题，or代理问题？</p><ul><li>reason: read ECONNRESET</li><li>reason: connect ETIMEDOUT</li><li>···</li></ul><p>我尝试用proxifier+关掉picgo的代理，后面补上是否可行。对了，用proxifier代理后，localhost的地址可能不是<a href="http://127.0.0.1/" target="_blank" rel="external nofollow noopener noreferrer">http://127.0.0.1/</a> 。具体是什么，可以用终端随便ping一个网址，有可能是<psw>http://127.8.0.1:4000/</psw>。<br><br><psw>没有工作在家赋闲</psw></p>]]></content>
    
    
    <summary type="html">github图床在被jsdelivr 50M CDN 加速限制之后，还能做些什么接着白嫖呢</summary>
    
    
    
    <category term="Skill" scheme="http://loglist.github.io/categories/Skill/"/>
    
    
    <category term="jsdelivr" scheme="http://loglist.github.io/tags/jsdelivr/"/>
    
    <category term="error" scheme="http://loglist.github.io/tags/error/"/>
    
  </entry>
  
  <entry>
    <title>如何查找新版google_analytics_key</title>
    <link href="http://loglist.github.io/2020/10/26/%E5%A6%82%E4%BD%95%E6%9F%A5%E6%89%BEgoogle-analytics-key/"/>
    <id>http://loglist.github.io/2020/10/26/%E5%A6%82%E4%BD%95%E6%9F%A5%E6%89%BEgoogle-analytics-key/</id>
    <published>2020-10-26T12:00:00.000Z</published>
    <updated>2020-10-27T18:49:59.263Z</updated>
    
    <content type="html"><![CDATA[<p>最近持续更新前端开发的笔记，希望自己能转型成功；<del>或者将来能从事BIM与react相互交叉的工作</del>。于是，想看一下自己某篇博客的点击量，奈何google_analytics中验证key并不识别。</p><a id="more"></a><p>我以为根目录配置文件内的google_analytics_key填错了，于是，才发现我找不到这个key在哪了！</p><h3 id="新的googleanalytics"><a href="#新的googleanalytics" class="headerlink" title="新的googleanalytics"></a>新的googleanalytics</h3><p>如图所示，在<a href="https://analytics.google.com/analytics/web/" target="_blank" rel="external nofollow noopener noreferrer">Admin</a>=&gt;Property=&gt;<strong>DataStreams</strong>下。<br><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201026214226.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201026214226.jpg" srcset="data:image/png;base64,666" alt="google_analytics_key"></p><h3 id="是head的原因"><a href="#是head的原因" class="headerlink" title="是head的原因"></a>是head的原因</h3><p>我发现配置文件内的google_analytics_key是对的，那是什么原因呢？<br><br>到volantis主题issue下，我发现了<a href="https://github.com/volantis-x/hexo-theme-volantis/issues/63" target="_blank" rel="external nofollow noopener noreferrer">这个</a> =&gt;得到启发，并提交了这个bug。</p><h3 id="错的矛头"><a href="#错的矛头" class="headerlink" title="错的矛头"></a>错的矛头</h3><p>对themes/volantis/layout/_third-party/analytics/script.ejs进行修改=&gt;把对应的gtags.js替换掉是不行的，<span class="p red">下面的代码片段必须在head里</span>。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://www.googletagmanager.com/gtag/js?id=G-XG46Y0LMK7"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.dataLayer = <span class="built_in">window</span>.dataLayer || [];</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">gtag</span>(<span class="params"></span>)</span>&#123;dataLayer.push(<span class="built_in">arguments</span>);&#125;</span></span><br><span class="line"><span class="javascript">  gtag(<span class="string">'js'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">  gtag(<span class="string">'config'</span>, <span class="string">'G-XG46Y0LMK7'</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其中，<strong>G-XG46Y0LMK7</strong>是你的google_analytics_key。</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><p><del>按着<a href="https://github.com/volantis-x/hexo-theme-volantis/issues/63" target="_blank" rel="external nofollow noopener noreferrer">那个issue</a>的思路，把上面的代码片段加入head内——别忘了换key。</del><br><br> 或者用meta吧！</p>]]></content>
    
    
    <summary type="html">新版的google analytics key真的不好找啊</summary>
    
    
    
    <category term="Skill" scheme="http://loglist.github.io/categories/Skill/"/>
    
    
    <category term="Hexo" scheme="http://loglist.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>react极简笔记</title>
    <link href="http://loglist.github.io/2020/10/23/react%E6%9E%81%E7%AE%80%E7%AC%94%E8%AE%B0/"/>
    <id>http://loglist.github.io/2020/10/23/react%E6%9E%81%E7%AE%80%E7%AC%94%E8%AE%B0/</id>
    <published>2020-10-23T07:54:29.000Z</published>
    <updated>2020-11-05T13:58:36.659Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装react脚手架工具"><a href="#安装react脚手架工具" class="headerlink" title="安装react脚手架工具"></a>安装react脚手架工具</h2><p>参照官方文档<a href="https://zh-hans.reactjs.org/docs/create-a-new-react-app.html#create-react-app" target="_blank" rel="external nofollow noopener noreferrer">创建新的reactApp</a>，配置对应环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app todolist</span><br><span class="line"><span class="built_in">cd</span> todolist</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure><details blue><summary> 成功预览 </summary>              <div class="content">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/2020-10-23_160238.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/2020-10-23_160238.jpg" srcset="data:image/png;base64,666" alt></p>              </div>            </details><h3 id="项目文件概要"><a href="#项目文件概要" class="headerlink" title="项目文件概要"></a>项目文件概要</h3><details blue><summary> 各文件的作用 </summary>              <div class="content">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/2020-10-23_163328.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/2020-10-23_163328.jpg" srcset="data:image/png;base64,666" alt></p>              </div>            </details><h2 id="用案例学习react"><a href="#用案例学习react" class="headerlink" title="用案例学习react"></a>用案例学习react</h2><p>通过案例Todolist来编写Todolist.js进而熟悉react的基础思想：<strong>对数据层的操作来管理（生成）对应HTML。</strong><br>主要包括：</p><ul><li>react组件的定义与挂载</li><li>JSX基础语法</li><li>其他函数</li><li>事件（与数据）绑定：数据的改变决定页面的变化</li></ul><h3 id="react的组件"><a href="#react的组件" class="headerlink" title="react的组件"></a>react的组件</h3><p>一个页面很复杂，难于维护；react将整个页面拆分成若干个小组件，如页面的搜索可以分为button和input两个组件，这样更易维护。这便是前端工程的组件化。</p><h4 id="定义组件"><a href="#定义组件" class="headerlink" title="定义组件"></a>定义组件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>; <span class="comment">//类继承React.Component这个基类</span></span><br><span class="line"><span class="comment">//为了省略，前后等效</span></span><br><span class="line"><span class="keyword">import</span>  &#123; Componet &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span></span>;</span><br></pre></td></tr></table></figure><p>其中，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;Component&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="comment">//等效于</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span>  <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">const</span> Component = React.Component;</span><br></pre></td></tr></table></figure><h4 id="挂载组件"><a href="#挂载组件" class="headerlink" title="挂载组件"></a>挂载组件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span>  <span class="string">'react'</span>;</span><br><span class="line"><span class="comment">//JSX语法,需要引入React组件</span></span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>));</span><br><span class="line"><span class="comment">//使用JSX语法用&lt;App /&gt;标签来实现组件的挂载，其中标签内首字母大写</span></span><br></pre></td></tr></table></figure><h3 id="JSX基础语法"><a href="#JSX基础语法" class="headerlink" title="JSX基础语法"></a>JSX基础语法</h3><div class="tabs" id="jsx"><ul class="nav-tabs"><li class="tab active"><a class="#jsx-1">JSX注释</a></li><li class="tab"><a class="#jsx-2">JSX小结</a></li></ul><div class="tab-content"><div class="tab-pane active" id="jsx-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/* 这是一行注释*/</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//或者，这是一行注释</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="jsx-2"><ul><li>注释使用{/*··· */}或{ //··· }【占三行】</li><li>JSX中组件标签是大写字母开头，如Fragment</li><li>JSX中小写字母标签是h5</li><li>JSX语法中，{js代码块}需要用’{ }’包裹起来</li></ul></div></div></div><h3 id="占位符与其他函数"><a href="#占位符与其他函数" class="headerlink" title="占位符与其他函数"></a>占位符与其他函数</h3><p>react中render()函数只对一个元素进行渲染，这是就需要用<code>&lt;div&gt;</code>标签将所有代码封装起来。为了不在代码外层套上一个<code>&lt;div&gt;</code>，react引入了<code>&lt;Fragment&gt;</code>作为占位符代替<code>&lt;div&gt;</code>，起到与之前相同的作用，且没有外层包裹（div）。<br>此时，</p><div class="tabs" id="初步"><ul class="nav-tabs"><li class="tab active"><a class="#初步-1">index.js</a></li><li class="tab"><a class="#初步-2">Todolist.js</a></li><li class="tab"><a class="#初步-3">预览</a></li></ul><div class="tab-content"><div class="tab-pane active" id="初步-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> Todolist <span class="keyword">from</span> <span class="string">'./Todolist'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Todolist /&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="初步-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;</span><br><span class="line">    Component,</span><br><span class="line">    Fragment <span class="comment">//react16中的占位符</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> ( <span class="comment">//只能有一个元素，div；或使用Fragment这个占位符</span></span><br><span class="line"></span><br><span class="line">            &lt;Fragment&gt;</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;input </span><br><span class="line">                    /&gt;</span><br><span class="line">                    &lt;button&gt;提交&lt;<span class="regexp">/button&gt; </span></span><br><span class="line"><span class="regexp">                &lt;/</span>div&gt;</span><br><span class="line">                 &lt;ul&gt;</span><br><span class="line">                    &lt;li&gt;学英语&lt;<span class="regexp">/li&gt; </span></span><br><span class="line"><span class="regexp">                    &lt;li&gt; Learning engglish &lt;/</span>li&gt; </span><br><span class="line">                &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>Fragment&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoList; <span class="comment">//导出Todolist组件，从而index可以挂载Todolist</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="初步-3"><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/2020-10-24_092333.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/2020-10-24_092333.jpg" srcset="data:image/png;base64,666" alt="todlist1"></p></div></div></div><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><p>react遵循响应式设计思想，其意为“响应”，这即是react之名的含义。其<strong>关注于数据层的操作</strong>，之后自动的生成HTML-DOM。</p><h4 id="定义数据constructor"><a href="#定义数据constructor" class="headerlink" title="定义数据constructor"></a>定义数据constructor</h4><p>在组件内部，constructor(构造)的执行优先级最高，其中，数据存储位于<code>this.state</code>函数下，读作函数的状态。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(props) &#123; <span class="comment">//构造器(小组件)，执行优先级最高</span></span><br><span class="line">  <span class="keyword">super</span>(props); <span class="comment">//调用父类构造函数，Component，固定写法</span></span><br><span class="line">  <span class="keyword">this</span>.state = &#123; <span class="comment">//组件的状态</span></span><br><span class="line">    inputValue: <span class="string">''</span>, <span class="comment">//需要与挂载的标签绑定</span></span><br><span class="line">    list: []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="数据绑定（钩子）"><a href="#数据绑定（钩子）" class="headerlink" title="数据绑定（钩子）"></a>数据绑定（钩子）</h4><p>绑定语法：在input标签内用<strong>onchange事件</strong>将input标签与handleInputChange函数绑定时，需要将“onchange”写作“on<code>C</code>hange”。这样数据才会相互沟通，整个过程像钩在一起。特别地，需要用<strong>bind</strong>函数把this切换到同一层级，这样才能更方便地交换数据，<del>就好像相对路径与绝对路径一样</del>。除此以外，bind函数还可以传回其他参数，用“,”隔开即可。</p><div class="tabs" id="页面内不重复的id"><ul class="nav-tabs"><li class="tab active"><a class="#页面内不重复的id-1">页面input组件</a></li><li class="tab"><a class="#页面内不重复的id-2">handleInputChange函数</a></li><li class="tab"><a class="#页面内不重复的id-3">本章总结</a></li></ul><div class="tab-content"><div class="tab-pane active" id="页面内不重复的id-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">return</span> ( <span class="comment">//只能有一个元素，div；或使用Fragment这个占位符</span></span><br><span class="line"></span><br><span class="line">    &lt;Fragment&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input </span><br><span class="line">          <span class="comment">//JSX语法中使用js，需要在js代码块外加‘&#123;&#125;’</span></span><br><span class="line">          value=&#123;<span class="keyword">this</span>.state.inputValue&#125;</span><br><span class="line">          <span class="comment">//监听input框数据发生改变，onChange第二个首字母大写</span></span><br><span class="line">          <span class="comment">//定义handInputChange方法，来改变iput内容</span></span><br><span class="line"></span><br><span class="line">          <span class="comment">//bind转变绑定在handleInputChange的this指向Todolist</span></span><br><span class="line">          onChange= &#123;<span class="keyword">this</span>.handleInputChange.bind(<span class="keyword">this</span>)&#125;</span><br><span class="line"></span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;button&gt;提交&lt;<span class="regexp">/button&gt; </span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;学英语&lt;<span class="regexp">/li&gt; </span></span><br><span class="line"><span class="regexp">        &lt;li&gt; Learning engglish &lt;/</span>li&gt; </span><br><span class="line">      &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Fragment&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="页面内不重复的id-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">handleInputChange(e) &#123;</span><br><span class="line">  <span class="comment">//this 应指向Todolist，使用handleInputChange.bind(this)</span></span><br><span class="line">  <span class="comment">//改变数据使用setState函数</span></span><br><span class="line">  <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">    inputValue: e.target.value</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="页面内不重复的id-3"><ul><li>state负责存储组件内的数据</li><li>JSX语法中使用js代码，需要用’{}’包裹块</li><li>事件绑定时使用bind(this)，对函数的作用域进行变更</li><li>改变组件内的数据使用<code>setvalue</code>函数</li></ul></div></div></div><h4 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">&#123;<span class="comment">//回调函数（内容，index）</span></span><br><span class="line"><span class="keyword">this</span>.state.list.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//index作为key值是十分不善的行为，暂时先这样，不然报错</span></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line"><span class="comment">// &lt;div&gt;</span></span><br><span class="line"><span class="comment">// &lt;TodoItem /&gt;</span></span><br><span class="line"><span class="comment">// &lt;/div&gt;</span></span><br><span class="line">&lt;li</span><br><span class="line">key=&#123;index&#125;</span><br><span class="line">onClick=&#123;<span class="keyword">this</span>.handleItemDelete.bind(<span class="keyword">this</span>, index)&#125;</span><br><span class="line"><span class="comment">// dangerouslySetInnerHTML=&#123;&#123; __html: item &#125;&#125;</span></span><br><span class="line">&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">)</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">    &lt;/u</span>l&gt;</span><br></pre></td></tr></table></figure><h4 id="数据的immutable特性"><a href="#数据的immutable特性" class="headerlink" title="数据的immutable特性"></a>数据的immutable特性</h4><p>react的state（数据组）具有immutable的特性，即不要直接修改state内的值（不利于react性能优化）；而是采取对state副本进行修改。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">handleItemDelete(index) &#123;</span><br><span class="line">  <span class="comment">//immutable react要求不对state直接做修改，不方便性能优化</span></span><br><span class="line">  <span class="comment">//因此，服药复制一份list数组</span></span><br><span class="line">  <span class="keyword">const</span> list = [...this.state.list];</span><br><span class="line"></span><br><span class="line">  list.splice(index, <span class="number">1</span>); <span class="comment">//es6,list的删除函数(索引，次数)</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">    list: list</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="修改数据"><ul class="nav-tabs"><li class="tab active"><a class="#修改数据-1">todolist总结</a></li><li class="tab"><a class="#修改数据-2">预览</a></li></ul><div class="tab-content"><div class="tab-pane active" id="修改数据-1"><ul><li>react-state的使用</li><li>数据绑定<ul><li>onclike与onchange事件绑定</li><li>bind往回调函数内传参</li></ul></li><li>state的immutable特性</li></ul></div><div class="tab-pane" id="修改数据-2"><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/todolist01.gif" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/todolist01.gif" srcset="data:image/png;base64,666" alt="todolist01"></p></div></div></div><h3 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h3><h4 id="不被转义"><a href="#不被转义" class="headerlink" title="不被转义"></a>不被转义</h4><p>使用JSX语法中的<strong>dangeroulySetInnerHTML</strong>的关键字</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">                            <span class="comment">//__html两个下划线</span></span><br><span class="line">dangerouslySetInnerHTML=&#123;&#123;<span class="attr">__html</span>:item&#125;&#125;<span class="comment">//支持html语法的键值</span></span><br></pre></td></tr></table></figure><h4 id="引入style-css"><a href="#引入style-css" class="headerlink" title="引入style.css"></a>引入style.css</h4><div class="tabs" id="引入css"><ul class="nav-tabs"><li class="tab active"><a class="#引入css-1">引入</a></li><li class="tab"><a class="#引入css-2">style.css</a></li><li class="tab"><a class="#引入css-3">index.js内使用</a></li></ul><div class="tab-content"><div class="tab-pane active" id="引入css-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./style.css'</span> <span class="comment">//css路径</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="引入css-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.input&#123;</span><br><span class="line">  border: <span class="number">1</span>px solid red;</span><br><span class="line">&#125;</span><br><span class="line">···</span><br><span class="line">&lt;<span class="regexp">/input&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="引入css-3"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;label htmlFor=<span class="string">"insertArea"</span>&gt;输入内容&lt;<span class="regexp">/label&gt;&#123;/</span>*光标的聚焦*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">&lt;input</span></span><br><span class="line"><span class="regexp">  id='insertArea'</span></span><br><span class="line"><span class="regexp">  className='input'/</span><span class="regexp">/不使用class，避免与class【类】的关键字混淆</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/JSX语法中使用js，需要在js代码块外加‘&#123;&#125;’</span></span><br><span class="line"><span class="regexp">  value=&#123;this.state.inputValue&#125;</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/监听input框数据发生改变，onChange第二个首字母大写</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/定义handleInputChange方法，来改变iput内容</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/bind绑定handleInputChange的this指向TodoList</span></span><br><span class="line"><span class="regexp">  onChange=&#123;this.handleInputChange.bind(this)&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span>&gt;</span><br></pre></td></tr></table></figure></div></div></div><h4 id="label-for"><a href="#label-for" class="headerlink" title="label for"></a>label for</h4><p>想要达到“点击label，光标自动聚焦到input框”的效果，需将for关键字写成<strong>‘htmlFor’</strong>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;label htmlFor=<span class="string">"insertArea"</span>&gt;输入内容&lt;<span class="regexp">/label&gt;&#123;/</span>*光标的聚焦*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">&lt;input </span></span><br><span class="line"><span class="regexp">            id='insertArea'</span></span><br><span class="line"><span class="regexp">            /</span>&gt;</span><br></pre></td></tr></table></figure><div class="tabs" id="demo02"><ul class="nav-tabs"><li class="tab active"><a class="#demo02-1">小结</a></li><li class="tab"><a class="#demo02-2">预览</a></li></ul><div class="tab-content"><div class="tab-pane active" id="demo02-1"><ul><li>键名为<strong>dangerouslySetInnerHTML</strong>的关键字使得标签内部的代码不被转义</li><li>不使用class而是使用“className”来引入css的类名，避免与class【类】的关键字混淆</li><li>label的for标签替换成“htmlFor”来指向类名</li></ul></div><div class="tab-pane" id="demo02-2"><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/todolist02.gif" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/todolist02.gif" srcset="data:image/png;base64,666" alt="todolist02"></p></div></div></div><h3 id="组件的拆分"><a href="#组件的拆分" class="headerlink" title="组件的拆分"></a>组件的拆分</h3><p>既然已经实现了增删功能，那么如何将组件拆分！？TodoList(父组件)=&gt;TodoItem(子组件)</p><h4 id="新建组件"><a href="#新建组件" class="headerlink" title="新建组件"></a>新建组件</h4><p>新增一个子组件TodoItem.js；</p><details green><summary> 子组件TodoItem伪代码 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> react,&#123;Component&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoItem</span> <span class="keyword">extends</span> <span class="title">Component</span>()</span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        ···<span class="comment">//this指向</span></span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        ···<span class="comment">//组件显示</span></span><br><span class="line">    &#125;</span><br><span class="line">    otherfunction()&#123;</span><br><span class="line">        ···<span class="comment">//组件显示中绑定的函数</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoItem;</span><br></pre></td></tr></table></figure>              </div>            </details><h4 id="引入组件"><a href="#引入组件" class="headerlink" title="引入组件"></a>引入组件</h4><p>在父组件引入子组件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> TodoItem <span class="keyword">from</span> <span class="string">'./TodoItem'</span><span class="comment">//拓展名.js可省略，由react自动补全</span></span><br></pre></td></tr></table></figure><h4 id="子父组件的值传递"><a href="#子父组件的值传递" class="headerlink" title="子父组件的值传递"></a>子父组件的值传递</h4><p>todolist（父组件）向todoitem（子组件）传递值，是通过标签属性的方式，可以是数据及方法。<br>todoitem（子组件）接收todolist（父组件）的值，通过<code>this.props.xxx</code>的方式，其中xxx是数据及方法。特别地，子组件调用父组件的方法来改变父组件的值时，要将该方法的this通过bind绑定在父组件上一起传过来。</p><details green><summary> 子组件TodoItem </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;</span><br><span class="line">    Component</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoItem</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">        <span class="comment">//handleClick组件的this永远指向todoitem</span></span><br><span class="line">        <span class="comment">//在constructor内绑定，可以节省很多资源</span></span><br><span class="line">        <span class="keyword">this</span>.handleClick = <span class="keyword">this</span>.handleClick.bind(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="comment">//todolist（父组件）通过属性向子组件（todoitem）传递参数</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div onClick=&#123;<span class="keyword">this</span>.handleClick&#125;&gt;</span><br><span class="line">                &#123;<span class="keyword">this</span>.props.content&#125;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;)</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    handleClick() &#123;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/子组件不允许直接删除父组件的内容</span></span><br><span class="line"><span class="regexp">        this.props.deleteItem(this.props.index)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default TodoItem;</span></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="代码优化"><a href="#代码优化" class="headerlink" title="代码优化"></a>代码优化</h3><h4 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h4><p>es6的语法</p><div class="tabs" id="优化代码"><ul class="nav-tabs"><li class="tab active"><a class="#优化代码-1">优化todoitem</a></li><li class="tab"><a class="#优化代码-2">优化todolist</a></li></ul><div class="tab-content"><div class="tab-pane active" id="优化代码-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  <span class="comment">//todolist（父组件）通过属性向子组件（todoitem）传递参数</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 等效于const content=this.props.content;</span></span><br><span class="line">  <span class="keyword">const</span> &#123; content &#125; = <span class="keyword">this</span>.props;<span class="comment">//结构赋值&#123;&#125; es6语法</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;<span class="keyword">this</span>.handleClick&#125;&gt;</span><br><span class="line">      &#123;content&#125;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;)</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">handleClick() &#123;</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/子组件不允许直接删除父组件的内容</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ this.props.deleteItem(this.props.index)</span></span><br><span class="line"><span class="regexp">  const &#123; deleteItem, index &#125; = this.props;</span></span><br><span class="line"><span class="regexp">  deleteItem(index);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="优化代码-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;</span><br><span class="line">  Component,</span><br><span class="line">  Fragment <span class="comment">//react16中的占位符</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="comment">//先引入组件，最后引入样式</span></span><br><span class="line"><span class="keyword">import</span> TodoItem <span class="keyword">from</span> <span class="string">'./TodoItem'</span>; <span class="comment">//TodoItem.js的js可以省略</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./style.css'</span>; <span class="comment">//直接引用当前目录下的syle.css</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123; <span class="comment">//构造器(小组件)，执行优先级最高</span></span><br><span class="line">    <span class="keyword">super</span>(props); <span class="comment">//调用父类构造函数，Component，固定写法</span></span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="comment">//组件的状态，包含两个数据,整个todolist组件</span></span><br><span class="line">      <span class="comment">//要做的事情就是将往列表里添加数据的过程。</span></span><br><span class="line">      <span class="comment">//将要做的事情</span></span><br><span class="line">      inputValue: <span class="string">''</span>, <span class="comment">//需要与挂载的标签绑定</span></span><br><span class="line">      <span class="comment">//已经要做的事的数组</span></span><br><span class="line">      list: []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.handleInputChange = <span class="keyword">this</span>.handleInputChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.handleBtnClick = <span class="keyword">this</span>.handleBtnClick.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.handleItemDelete = <span class="keyword">this</span>.handleItemDelete.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> ( <span class="comment">//只能有一个元素，div；或使用Fragment这个占位符</span></span><br><span class="line"></span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;div&gt;&#123;<span class="comment">/*如下是input框*/</span>&#125;</span><br><span class="line">          &lt;label htmlFor=<span class="string">"insertArea"</span>&gt;输入内容&lt;<span class="regexp">/label&gt;&#123;/</span>*光标的聚焦*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">          &lt;input</span></span><br><span class="line"><span class="regexp">            id='insertArea'</span></span><br><span class="line"><span class="regexp">            className='input'/</span><span class="regexp">/不使用class，避免与class【类】的关键字混淆</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/JSX语法中使用js，需要在js代码块外加‘&#123;&#125;’</span></span><br><span class="line"><span class="regexp">            value=&#123;this.state.inputValue&#125;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/监听input框数据发生改变，onChange第二个首字母大写</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/定义handleInputChange方法，来改变iput内容</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/bind绑定handleInputChange的this指向TodoList</span></span><br><span class="line"><span class="regexp">            onChange=&#123;this.handleInputChange&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">          /</span>&gt;</span><br><span class="line">          &lt;button</span><br><span class="line">            <span class="comment">//定义handleBtnClick方法，将'iputValue'存入'list'</span></span><br><span class="line">            onClick=&#123;<span class="keyword">this</span>.handleBtnClick&#125;&gt;提交&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &#123;<span class="keyword">this</span>.getTodoItem()&#125;</span><br><span class="line">        &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Fragment&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getTodoItem() &#123;</span><br><span class="line">    <span class="comment">//回调函数（内容，index）</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.state.list.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//index作为key值是十分不善的行为，暂时先这样，不然报错</span></span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">          &lt;TodoItem</span><br><span class="line">            key=&#123;index&#125;</span><br><span class="line">            content=&#123;item&#125;</span><br><span class="line">            index=&#123;index&#125;</span><br><span class="line">            <span class="comment">//将todolist的this通过bind绑定在handleItemDelete上，即子组件的deleteItem上</span></span><br><span class="line">            deleteItem=&#123;<span class="keyword">this</span>.handleItemDelete&#125;</span><br><span class="line">          /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// &lt;li</span></span><br><span class="line">        <span class="comment">//   key=&#123;index&#125;</span></span><br><span class="line">        <span class="comment">//   onClick=&#123;this.handleItemDelete.bind(this, index)&#125;</span></span><br><span class="line">        <span class="comment">//   dangerouslySetInnerHTML=&#123;&#123; __html: item &#125;&#125;</span></span><br><span class="line">        <span class="comment">// &gt;&lt;/li&gt;</span></span><br><span class="line"></span><br><span class="line">      )</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleInputChange(e) &#123;</span><br><span class="line">    <span class="comment">//this 应指向Todolist，使用handleInputChange.bind(this)</span></span><br><span class="line">    <span class="comment">//改变数据使用setState函数</span></span><br><span class="line">    <span class="keyword">const</span> value = e.target.value;<span class="comment">//异步加载，提高性能</span></span><br><span class="line">    <span class="keyword">this</span>.setState(<span class="function"><span class="params">()</span> =&gt;</span> (&#123;</span><br><span class="line">      inputValue: value</span><br><span class="line">    &#125;))</span><br><span class="line">    <span class="comment">// this.setState(&#123;</span></span><br><span class="line">    <span class="comment">//   inputValue: e.target.value</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  handleBtnClick() &#123;</span><br><span class="line">    <span class="comment">// this.setState(&#123;</span></span><br><span class="line">    <span class="comment">//   //...this.state.list，es6展开运算符，将之前的所有项逐项展开</span></span><br><span class="line">    <span class="comment">//   list: [...this.state.list, this.state.inputValue],</span></span><br><span class="line">    <span class="comment">//   inputValue: ''</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">    <span class="comment">//优化后，prevState=this.state，改变之前的数据</span></span><br><span class="line">    <span class="keyword">this</span>.setState(<span class="function">(<span class="params">prevState</span>)=&gt;</span>(&#123;</span><br><span class="line">      list: [...prevState.list, prevState.inputValue],</span><br><span class="line">      inputValue: <span class="string">''</span></span><br><span class="line">    &#125;))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleItemDelete(index) &#123;</span><br><span class="line">    <span class="comment">//immutable react要求不对state直接做修改，不方便性能优化</span></span><br><span class="line">    <span class="comment">//因此，服药复制一份list数组</span></span><br><span class="line">    <span class="keyword">const</span> list = [...this.state.list];</span><br><span class="line"></span><br><span class="line">    list.splice(index, <span class="number">1</span>); <span class="comment">//es6,list的删除函数(索引，次数)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      list: list</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoList; <span class="comment">//导出Todolist组件，从而index可以挂载Todolist</span></span><br></pre></td></tr></table></figure></div></div></div><h3 id="声明式与命令式开发"><a href="#声明式与命令式开发" class="headerlink" title="声明式与命令式开发"></a>声明式与命令式开发</h3><p>这两种开发方式是什么？<br>打个比方，要做成一道菜。声明式开发像是去写一个菜谱，当菜谱写完时，react就已经把菜【DOM】做好了。命令式更像是想着菜谱，把菜【DOM】给做出来。</p><p>react开发的特点：</p><ul><li>react由数据驱动</li><li>声明式开发</li><li>与其他框架共存</li><li>组件化，组件标签是首字母大写的标签</li><li>单向数据流，父==值=&gt;子，子只能使用值【或调用父的函数修改父的值】</li><li>视图层框架，【需配合数据层框架，完成跨父子层传值，如redux】</li><li>函数式编程【利于前端工程的自动化测试】</li></ul><h3 id="PropTypes"><a href="#PropTypes" class="headerlink" title="PropTypes"></a>PropTypes</h3><p>为了安全，子组件应对父组件传入的值类型做校验。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">TodoItem.propTypes = &#123;</span><br><span class="line">content: PropTypes.string,</span><br><span class="line">deleteItem: PropTypes.func,</span><br><span class="line">index: PropTypes.number</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="虚拟DOM"><a href="#虚拟DOM" class="headerlink" title="虚拟DOM"></a>虚拟DOM</h2><h3 id="真实DOM如何生成"><a href="#真实DOM如何生成" class="headerlink" title="真实DOM如何生成"></a>真实DOM如何生成</h3><p>react底层生成真实DOM的过程：JSX模板 -&gt; creatElement -&gt; JS对象 -&gt; 真实的DOM ；其中，JSX模板是react底层语法的另一种写法，因为react底层接口写出来的代码片段不易于理解且不方便。例如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">render()&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>item<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="comment">//等效于</span></span><br><span class="line">  <span class="keyword">return</span> React.creatElement(<span class="string">'div'</span>,&#123;&#125;,React.creatElement(<span class="string">'span'</span>,&#123;&#125;,<span class="string">'item'</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">### 虚拟DOM如何工作</span></span><br><span class="line"><span class="string">那么react是如何利用虚拟DOM提高性能的呢？</span></span><br><span class="line"><span class="string">1. state 数据</span></span><br><span class="line"><span class="string">2. JSX 模板</span></span><br><span class="line"><span class="string">3. 数据 + 模板 生成虚拟DOM （虚拟DOM是一个**JS对象**，用它来描述真是DOM）【损耗了极少的性能，因为是用JS生成一个JS对象】虚拟DOM的结构 ['名称',&#123;属性&#125;,'值']</span></span><br><span class="line"><span class="string">   如：['div',&#123;id:'abc'&#125;,['span',&#123;&#125;,'hello world']]</span></span><br><span class="line"><span class="string">4. 用虚拟DOM的结构生成真实的DOM，来显示</span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span>html</span><br><span class="line">   &lt;div id=<span class="string">'abc'</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure><ol start="5"><li><p>state 发生变化</p></li><li><p>数据 + 模板 生成新的虚拟DOM （极大地提升了性能）<br>变：[‘div’,{id:’abc’},[‘span’,{},’bye bye’]]</p></li><li><p>比较原始虚拟DOM和新的虚拟DOM的区别，找到区别是span中内容（极大地提升了性能）</p></li><li><p>直接操作DOM，改变span中的内容</p></li></ol><h3 id="虚拟DOM的优势"><a href="#虚拟DOM的优势" class="headerlink" title="虚拟DOM的优势"></a>虚拟DOM的优势</h3><ol><li>性能提升 &lt;- 操作虚拟DOM进行比较，生成改变部分的真实DOM</li><li>使跨端应用得以实现。React Native 是基于虚拟DOM而存在，确切的说，之所以react可以跨端开发，是因为虚拟DOM可以在不同环境中被渲染成适应不同环境的代码。<br>那和虚拟DOM有什么关系呢？那是因为<strong>虚拟DOM是一个JS对象</strong>，而JS对象在浏览器和原生应用中都能识别。</li></ol><h3 id="旧新虚拟DOM的DIFF算法"><a href="#旧新虚拟DOM的DIFF算法" class="headerlink" title="旧新虚拟DOM的DIFF算法"></a>旧新虚拟DOM的DIFF算法</h3><p>DIFF算法全称为difference算法，意味寻找虚拟DOM间的不同点。当数据被修改时，setState函数就会被调用一次，这是因为setState函数的功能就是修改数据的，理论上就会触发生成一次虚拟DOM的动作。那么，频繁地修改数据，即频繁地调用setState函数势必会造成性能的浪费。<br><br>那要怎么做才能将性能节省下来呢？答案很简单，攒起来做一次就好了；就像打印东西一下，一张一张地打印势必麻烦，那攒起来一下子全打印出来就好了。而setState被设计成异步函数正是出于此考量，当数据连续三次被修改的间隔较小时，setState函数就会将三次修改的内容并为一次进行触发一次生成虚拟DOM的动作。</p><h3 id="具体的比对过程"><a href="#具体的比对过程" class="headerlink" title="具体的比对过程"></a>具体的比对过程</h3><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201027233131.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201027233131.jpg" srcset="data:image/png;base64,666" alt="compare"><br>react采用对虚拟DOM进行同层比对的方式进行比较，当在第一层发现不同时，就会重新渲染本层及以下的内容——以此类推。</p><h3 id="key值的作用"><a href="#key值的作用" class="headerlink" title="key值的作用"></a>key值的作用</h3><p>辅助虚拟DOM的同层比对更快进行，比较相同key的内容是否相同。因为index是变动的，所以不应作为key值，应用稳定的值作为key值。</p><div class="tabs" id="删除e"><ul class="nav-tabs"><li class="tab active"><a class="#删除e-1">不稳定的值，index做key值</a></li><li class="tab"><a class="#删除e-2">稳定的值，自身做key值</a></li></ul><div class="tab-content"><div class="tab-pane active" id="删除e-1"><table><thead><tr><th>删除e前</th><th>删除e后</th></tr></thead><tbody><tr><td>0 -&gt; h</td><td>0 -&gt; h</td></tr><tr><td>1 -&gt; e</td><td>1 -&gt; l</td></tr><tr><td>2 -&gt; l</td><td>2 -&gt; l</td></tr><tr><td>3 -&gt; l</td><td>3 -&gt; o</td></tr><tr><td>4 -&gt; o</td><td></td></tr><tr><td>生成新的虚拟DOM需要重新生成除“h,某个l”之外的其他所有部分</td><td></td></tr></tbody></table></div><div class="tab-pane" id="删除e-2"><table><thead><tr><th>删除e前</th><th>删除e后</th></tr></thead><tbody><tr><td>h -&gt; h</td><td>h -&gt; h</td></tr><tr><td>e -&gt; e</td><td>l -&gt; l</td></tr><tr><td>l -&gt; l</td><td>l -&gt; l</td></tr><tr><td>l -&gt; l</td><td>o -&gt; o</td></tr><tr><td>o -&gt; o</td><td></td></tr><tr><td>生成新的虚拟DOM只需删除e即可</td><td></td></tr></tbody></table></div></div></div><h3 id="ref参数的使用"><a href="#ref参数的使用" class="headerlink" title="ref参数的使用"></a>ref参数的使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ref=&#123;(input)=&gt;&#123;<span class="keyword">this</span>.input=input&#125;&#125;<span class="comment">//指向input的DOM</span></span><br><span class="line">ref = &#123;(input) =&gt; &#123;<span class="keyword">this</span>.input=input&#125;&#125; <span class="comment">//引用</span></span><br></pre></td></tr></table></figure><span class="p red">不推荐使用ref</span>,react是由数据驱动，并不推荐直接操作DOM<h4 id="setState的回调函数"><a href="#setState的回调函数" class="headerlink" title="setState的回调函数"></a>setState的回调函数</h4><p>某些情况下，需要获取虚拟DOM执行之后的结果，比如有些你需要获取当前数据的长度，但是setState是异步函数，它的处理结果不是同步的。这时需要一个回调函数，即setState的第二次参数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ul部分</span></span><br><span class="line">&lt;ul ref=&#123;(ul)=&gt;&#123;<span class="keyword">this</span>.ul=ul&#125;&#125;&gt; &#123;<span class="comment">/*箭头函数*/</span>&#125;</span><br><span class="line">  &#123;<span class="keyword">this</span>.getTodoItem()&#125;</span><br><span class="line">&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/函数部分</span></span><br><span class="line"><span class="regexp">  handleBtnClick() &#123;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ this.setState(&#123;</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/   /</span><span class="regexp">/...this.state.list，es6展开运算符，将之前的所有项逐项展开</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/   list: [...this.state.list, this.state.inputValue],</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/   inputValue: ''</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ &#125;)</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/优化后，prevState=this.state，改变之前的数据</span></span><br><span class="line"><span class="regexp">    this.setState((prevState)=&gt;(&#123;</span></span><br><span class="line"><span class="regexp">      list: [...prevState.list, prevState.inputValue],</span></span><br><span class="line"><span class="regexp">      inputValue: ''</span></span><br><span class="line"><span class="regexp">    &#125;),()=&gt;&#123;</span></span><br><span class="line"><span class="regexp">      console.log(this.ul.querySelectorAll('div').length);</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br></pre></td></tr></table></figure><p>但是在遇到极其复杂的业务时，例如操作动画时，可能需要这个函数。</p><h2 id="react生命周期函数与性能优化"><a href="#react生命周期函数与性能优化" class="headerlink" title="react生命周期函数与性能优化"></a>react生命周期函数与性能优化</h2><p>生命周期函数是指在<strong>某一个时刻组件会自动调用执行</strong>的函数。如render()函数，它是在数据发生改变时，自动执行，因此render()函数是一个生命周期函数。</p><div class="gallery 参数">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201028174526.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201028174526.png" srcset="data:image/png;base64,666" alt="reactalllifefunc"></p>            </div><ul><li>componentWillMount 在组件即将被<strong>首次</strong>挂载到页面的时刻，自动被执行一次</li><li>componentDidMount 在组件被<strong>首次</strong>挂载到页面之后，自动被执行一次</li><li>shouldComponentUpdate 在组件被更新之前，自动被执行，并返回一个bool值</li><li>componentWillUpdate 某组件的shuldComponentUpdate函数返回的bool值来触发该组件的componentWillUpdate函数是否被执行</li><li>componentDidUpdate 在组件被更新之后，自动被执行</li><li>componentWillRecieveProps 当一个组件第二次接受参数时，该函数被自动执行，即当一个组件从父组件接受参数，且该组件在父组中出现过；再次接受参数时，该函数自动被执行</li><li>componentWillMount 在子组件将要被移除时，该函数自动被执行</li><li>render 当父组件的render函数被执行，子组件的render函数也会被执行，那么，如果子组件的数据没有被改变时，子render函数仍然被执行，势必会造成性能损失。</li></ul><h3 id="生命周期函数的使用"><a href="#生命周期函数的使用" class="headerlink" title="生命周期函数的使用"></a>生命周期函数的使用</h3><p>之前的todolist案例中，存在这样一个问题。在父组件数据发生改变的，子组件的render函数一直被自动执行，无疑，这造成了性能的浪费，如下图：</p><details yellow><summary>  </summary>              <div class="content">              <div class="gallery 参数">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201028181111.gif" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201028181111.gif" srcset="data:image/png;base64,666" alt="funcbebetter"></p>            </div>              </div>            </details><p>使用shouldComponentUpdate来判断子组件是否该被执行，判断依据于 子组件的数据是否被改变，即获取到的数据与之前的数据是否一样。这就需要用到shouldComponentUpdate的两个参数 <code>nextProps</code>和<code>nextState</code>，前者是代表接下来父组件传过来的数据流是什么，后者代表接下来的子组件的数据是什么。于是，有</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">shouldComponentUpdate(nextProps, nextState) &#123;</span><br><span class="line"><span class="keyword">if</span> (nextProps.content !== <span class="keyword">this</span>.props.content) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="gallery 参数">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201028225121.gif" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201028225121.gif" srcset="data:image/png;base64,666" alt="bebetter"></p>            </div><h3 id="react的性能优化方式"><a href="#react的性能优化方式" class="headerlink" title="react的性能优化方式"></a>react的性能优化方式</h3><ul><li>函数作用域绑定发生在constructor内<code>this.handClick=this.handClick.bind(this)</code>，可优化性能</li><li>setState为异步函数，可以将虚拟DOM的多次比对合并成一次，降低虚拟DOM的比对频率</li><li>react的虚拟DOM采用同层比对的方式，结合key值可提升比对速度</li><li>借助shouldComponentUpdate，避免无谓的render被自动执行</li></ul><h2 id="Ajax请求如何载入"><a href="#Ajax请求如何载入" class="headerlink" title="Ajax请求如何载入"></a>Ajax请求如何载入</h2><p>react 嵌入ajax请求需要借助第三方库<a href="https://www.npmjs.com/package/axios" target="_blank" rel="external nofollow noopener noreferrer">axios</a>，windows下安装 <code>npm install axios -S</code>，之后重启react服务器 <code>npm run start</code>。</p><div class="note warning"><p>ajax的请求写到componentDidMout函数里，因为componentWillMout、componentDidMout、constructor这三个函数均只会执行一次。其中，写道componentDidMount中较为推荐</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount()&#123;</span><br><span class="line">  axios.get(<span class="string">'/api/todolist'</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;alert(<span class="string">'succ'</span>)&#125;)  <span class="comment">//成功</span></span><br><span class="line">  .catch(<span class="function"><span class="params">()</span>=&gt;</span>&#123;alert(<span class="string">'error'</span>)&#125;)<span class="comment">//失败</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="charles本地接口数据模拟"><a href="#charles本地接口数据模拟" class="headerlink" title="charles本地接口数据模拟"></a>charles本地接口数据模拟</h3><ul><li>安装<a href="https://www.charlesproxy.com/download/" target="_blank" rel="external nofollow noopener noreferrer">charles</a>软件</li><li>新建todolist.json，内里写入一个数组</li><li>使用charles软件的tools-mapLocalSettings-add 一个模拟。</li><li>遇到问题，具体可<a href="https://loglist.github.io/2020/10/29/whyAxiosCan%E2%80%99tGetCharlesMapLocalData/">参考</a></li></ul><details green><summary> es6 优化代码 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  axios.get(<span class="string">'/api/todolist'</span>)</span><br><span class="line">    .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(<span class="function"><span class="params">()</span>=&gt;</span>(&#123;</span><br><span class="line">        list:[...res.data]</span><br><span class="line">      &#125;))</span><br><span class="line">    &#125;)  <span class="comment">//成功</span></span><br><span class="line">    .catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123; alert(<span class="string">'error'</span>) &#125;)<span class="comment">//失败</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="react的动画效果"><a href="#react的动画效果" class="headerlink" title="react的动画效果"></a>react的动画效果</h2><h3 id="借助css的函数"><a href="#借助css的函数" class="headerlink" title="借助css的函数"></a>借助css的函数</h3><p>借助css3的两个函数tansition与animation+keyframes可以实现简单动画效果。如下</p><div class="tabs" id="页面内不重复的id"><ul class="nav-tabs"><li class="tab active"><a class="#页面内不重复的id-1">App.js</a></li><li class="tab"><a class="#页面内不重复的id-2">style.css</a></li><li class="tab"><a class="#页面内不重复的id-3">预览</a></li></ul><div class="tab-content"><div class="tab-pane active" id="页面内不重复的id-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;</span><br><span class="line">  Component,</span><br><span class="line">  Fragment</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./style.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      show: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.handleToggle = <span class="keyword">this</span>.handleToggle.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;h1 className=&#123;<span class="keyword">this</span>.state.show ? <span class="string">'show'</span> : <span class="string">'hide'</span>&#125;&gt; hello &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;this.handleToggle&#125;&gt; Toggle&lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/Fragment&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  handleToggle() &#123;</span></span><br><span class="line"><span class="regexp">    this.setState(&#123;</span></span><br><span class="line"><span class="regexp">      show: this.state.show ? false : true</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="页面内不重复的id-2"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.show</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* ease-in 曲线 */</span></span><br><span class="line">    <span class="comment">/* transition: all 1s ease-in;  */</span></span><br><span class="line">    <span class="attribute">animation</span>: show-item <span class="number">1s</span> ease-out forwards;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.hide</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* fowards保持最后一帧动画 */</span></span><br><span class="line">    <span class="attribute">animation</span>: hide-item <span class="number">1s</span> ease-in forwards;</span><br><span class="line">    <span class="comment">/* transition: all 1s ease-in; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> hide-item &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">        <span class="attribute">color</span>: orange;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">color</span>: yellow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> show-item &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">color</span>: green;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">0</span>, <span class="number">174</span>, <span class="number">255</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        <span class="attribute">color</span>: purple;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="页面内不重复的id-3"><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029210508.gif" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201029210508.gif" srcset="data:image/png;base64,666" alt="cssanimation"></p></div></div></div><h3 id="借助reac第三方库"><a href="#借助reac第三方库" class="headerlink" title="借助reac第三方库"></a>借助reac第三方库</h3><p>css3 的动画效果似乎有些单薄,好在 <a href="https://reactcommunity.org/react-transition-group/" target="_blank" rel="external nofollow noopener noreferrer">react-transition-group</a> 提供了丰富的JS动画效果，借助此模块的钩子函数【类似生命周期函数】，都能实现什么效果呢？</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; CSSTransition &#125; <span class="keyword">from</span> <span class="string">'react-transition-group'</span>;</span><br><span class="line"></span><br><span class="line">&lt;CSSTransition</span><br><span class="line">  <span class="keyword">in</span>=&#123;<span class="keyword">this</span>.state.show&#125;</span><br><span class="line">  timeout=&#123;<span class="number">1000</span>&#125;<span class="comment">//动画执行多久，ms</span></span><br><span class="line">  classNames=<span class="string">'fade'</span></span><br><span class="line">  unmountOnExit</span><br><span class="line">  <span class="comment">// el指的是这个组件本身</span></span><br><span class="line">  onEnter=&#123;(el)=&gt;&#123;el.style.color=<span class="string">'blue'</span>&#125;&#125;</span><br><span class="line">  appear=&#123;<span class="literal">true</span>&#125;<span class="comment">//第一次显示页面的时候，就会显示动画效果</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><h4 id="为所有元素增加效果"><a href="#为所有元素增加效果" class="headerlink" title="为所有元素增加效果"></a>为所有元素增加效果</h4><p>需要将 CSSTransition 和 TransitionGrou 配合，为所有的组件添加动态效果。</p><div class="tabs" id="allcsstrasition"><ul class="nav-tabs"><li class="tab active"><a class="#allcsstrasition-1">index</a></li><li class="tab"><a class="#allcsstrasition-2">Appjs代码</a></li><li class="tab"><a class="#allcsstrasition-3">style.css</a></li><li class="tab"><a class="#allcsstrasition-4">效果</a></li></ul><div class="tab-content"><div class="tab-pane active" id="allcsstrasition-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;App /&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="allcsstrasition-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;</span><br><span class="line">  Component,</span><br><span class="line">  Fragment</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; CSSTransition, TransitionGroup &#125; <span class="keyword">from</span> <span class="string">'react-transition-group'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./style.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      list: []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.handleAddItem = <span class="keyword">this</span>.handleAddItem.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Fragment&gt;</span><br><span class="line">        &lt;TransitionGroup</span><br><span class="line"></span><br><span class="line">        &gt;</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="comment">//循环展示list内的元素，map</span></span><br><span class="line">            <span class="keyword">this</span>.state.list.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> (</span><br><span class="line">                &lt;CSSTransition</span><br><span class="line">                  timeout=&#123;<span class="number">1000</span>&#125;<span class="comment">//动画执行多久，ms</span></span><br><span class="line">                  classNames=<span class="string">'fade'</span></span><br><span class="line">                  unmountOnExit</span><br><span class="line">                  <span class="comment">// el指的是这个组件本身</span></span><br><span class="line">                  onEnter=&#123;(el) =&gt; &#123; el.style.color = <span class="string">'blue'</span> &#125;&#125;</span><br><span class="line">                  appear=&#123;<span class="literal">true</span>&#125;<span class="comment">//第一次显示页面的时候，就会显示动画效果</span></span><br><span class="line">                  key=&#123;index&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                  &lt;div&gt;&#123;item&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>CSSTransition&gt;</span><br><span class="line">              )</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &lt;<span class="regexp">/TransitionGroup&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;this.handleAddItem&#125;&gt; Toggle&lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/Fragment&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  handleAddItem() &#123;</span></span><br><span class="line"><span class="regexp">    this.setState((prevState) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">      return &#123;</span></span><br><span class="line"><span class="regexp">        list: [...prevState.list, 'item']</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ handleToggle() &#123;</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/   this.setState(&#123;</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/     show: this.state.show ? false : true</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/   &#125;)</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="allcsstrasition-3"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.fade-enter</span>, <span class="selector-class">.fade-appear</span> &#123;</span><br><span class="line">    <span class="comment">/* 入场动画执行的第一个时刻 */</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade-enter-active</span>, <span class="selector-class">.fade-appear-active</span> &#123;</span><br><span class="line">    <span class="comment">/* 入场动画执行的第二个时刻到动画结束 */</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>: opacity <span class="number">2s</span> ease-in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade-enter-done</span> &#123;</span><br><span class="line">    <span class="comment">/* 入场动画执行完成 */</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade-exit</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade-exit-active</span> &#123;</span><br><span class="line">    <span class="comment">/* 出场动画执行的第二个时刻 */</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: opacity <span class="number">2s</span> ease-in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade-exit-done</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="allcsstrasition-4"><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201030224401.gif" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201030224401.gif" srcset="data:image/png;base64,666" alt="transitionGroup"></p></div></div></div><h2 id="Redux与react"><a href="#Redux与react" class="headerlink" title="Redux与react"></a>Redux与react</h2><p>react为视图层框架，Redux为数据层框架；开发大型项目，需要两者相结合——用来解决react组件间传值的问题。Redux就是将react里的数据集中存放在一个地方，方便数据沟通。其中，<code>Redux=Reducer+Flux</code>，Flux由facebok推出，但是数据的store间存在着数据依赖；于是开发出redux的方式。</p><h3 id="redux的优点"><a href="#redux的优点" class="headerlink" title="redux的优点"></a>redux的优点</h3><h4 id="是否采用redux"><a href="#是否采用redux" class="headerlink" title="是否采用redux"></a>是否采用redux</h4><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201030233742.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201030233742.jpg" srcset="data:image/png;base64,666" alt="advanceAbotRedux"></p><h4 id="redux数据流动方式"><a href="#redux数据流动方式" class="headerlink" title="redux数据流动方式"></a>redux数据流动方式</h4><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201030233941.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201030233941.jpg" srcset="data:image/png;base64,666" alt="flowOfRedux"></p><ul><li>Store是所有数据的存储位置</li></ul><h3 id="继续优化Todolist"><a href="#继续优化Todolist" class="headerlink" title="继续优化Todolist"></a>继续优化Todolist</h3><p>借助 react UI 框架库 <a href="https://ant.design/docs/react/introduce-cn" target="_blank" rel="external nofollow noopener noreferrer">antd</a>，在TodoList根目录安装<code>npm install antd --save</code>，并重启 react app <code>npm run start</code></p><h4 id="如何使用redux"><a href="#如何使用redux" class="headerlink" title="如何使用redux"></a>如何使用redux</h4><ol><li><p>安装redux</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install redux --save</span><br></pre></td></tr></table></figure></li><li><p>src 目录下创建 store 文件夹，且在该文件夹下创建 index.js【管理员】 和 reducer.js【管理手册】，在根目录 TodoList.js 引入 redux 的数据。其中，redux 实例 store 的数据获取使用 getState() 函数。 </p><div class="tabs" id="redux01"><ul class="nav-tabs"><li class="tab active"><a class="#redux01-1">store/index.js</a></li><li class="tab"><a class="#redux01-2">store/reducer.js</a></li><li class="tab"><a class="#redux01-3">TodoList.js</a></li></ul><div class="tab-content"><div class="tab-pane active" id="redux01-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">'./TodoList'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">&lt;TodoList /&gt;,</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="redux01-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">    inputValue:<span class="string">'hello'</span>,</span><br><span class="line">    list:[<span class="string">'learn english'</span>,<span class="string">'learn react'</span>]</span><br><span class="line">&#125; <span class="comment">//创建有功能【列表】的空手册</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state=defaultState, action) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="redux01-3"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Input, Button, List &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'antd/dist/antd.css'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// const data = [</span></span><br><span class="line"><span class="comment">//   'Racing car sprays burning fuel into crowd.',</span></span><br><span class="line"><span class="comment">//   'Japanese princess to wed commoner.',</span></span><br><span class="line"><span class="comment">//   'Australian walks 100km after outback crash.',</span></span><br><span class="line"><span class="comment">//   'Man charged over missing wedding girl.',</span></span><br><span class="line"><span class="comment">//   'Los Angeles battles huge wildfires.',</span></span><br><span class="line"><span class="comment">// ];</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">constructor</span>(props)&#123;</span><br><span class="line"><span class="keyword">super</span>(props);</span><br><span class="line"><span class="keyword">this</span>.state=store.getState();<span class="comment">//get store 数据的方法</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  &lt;div style=&#123;&#123; <span class="attr">marginTop</span>: <span class="string">'10px'</span>, <span class="attr">marginLeft</span>: <span class="string">'10px'</span> &#125;&#125;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Input value=&#123;<span class="keyword">this</span>.state.inputValue&#125; placeholder=<span class="string">"Todo info"</span> style=&#123;&#123; <span class="attr">width</span>: <span class="string">'300px'</span> &#125;&#125; /&gt;</span><br><span class="line">      &lt;Button type=<span class="string">"primary"</span>&gt;提交&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;List</span><br><span class="line">      style=&#123;&#123;<span class="attr">marginTop</span>:<span class="string">'10px'</span>,<span class="attr">width</span>:<span class="string">'364px'</span>&#125;&#125;</span><br><span class="line">      bordered</span><br><span class="line">      dataSource=&#123;<span class="keyword">this</span>.state.list&#125;</span><br><span class="line">      renderItem=&#123;item =&gt; (</span><br><span class="line">        &lt;List.Item&gt;</span><br><span class="line">          &#123;item&#125;</span><br><span class="line">        &lt;<span class="regexp">/List.Item&gt;</span></span><br><span class="line"><span class="regexp">      )&#125;</span></span><br><span class="line"><span class="regexp">    /</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">)</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default TodoList;</span></span><br></pre></td></tr></table></figure></div></div></div></li><li><p>安装 <a href="https://github.com/zalmoxisus/redux-devtools-extension#usage" target="_blank" rel="external nofollow noopener noreferrer">redux devtools</a> 插件，方便后面调试。</p></li><li><p>使用事件将 html 标签 与 函数绑定，并在函数内创建action的属性，最后由store-dispatch 将该 action 传递到 reducer</p></li><li><p>reducer 判断改动作的类型，并作出处理，返回最新的 state</p></li><li><p>store内的state【数据】发生改变，并通过 subscribe 绑定并执行函数，由函数将新的数据反馈给组件。</p></li><li><p>组件的state发生改变，带动页面重新渲染。</p></li></ol><h4 id="动作派发"><a href="#动作派发" class="headerlink" title="动作派发"></a>动作派发</h4><p>在 store/actionTypes.js 内创建并导出动作常量，从而有效地避免动作拼写错误。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store/actionTypes.js 创建</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> CHANGE_INPUT_ITEM =<span class="string">'change_input_item'</span>;</span><br><span class="line"><span class="comment">// 在 TodoList.js 导入</span></span><br><span class="line"><span class="keyword">import</span> &#123;CHANGE_INPUT_ITEM&#125; <span class="keyword">from</span> <span class="string">'/store/actionTypes'</span></span><br></pre></td></tr></table></figure><p><del>~ 其实，我觉得vscode编辑器可以避免</del></p><h4 id="统一管理action"><a href="#统一管理action" class="headerlink" title="统一管理action"></a>统一管理action</h4><p>在 store/actionCreators.js 内统一创建并管理 action。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getChangeInputItem=<span class="function">(<span class="params">value</span>)=&gt;</span>(&#123;</span><br><span class="line">    type:<span class="string">'change_input_item'</span></span><br><span class="line">    value</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="Redux-小结"><a href="#Redux-小结" class="headerlink" title="Redux 小结"></a>Redux 小结</h3><ol><li>常识<br>1.1 store 是唯一<br>1.2 只有store可以改变store的内容，reducer只能拷贝store里的数据，操作之后并返回给store，最后由tore自我更新<br>1.3 reducer 内必须是<strong>纯</strong>函数。纯函数是 输入（state，action）给定，那么输出一定；而且不会有任何副作用。副作用是指 不该做的事情，如对传入参数的修改。</li><li>核心API<br>2.1 createStore 创建store<br>2.2 store.dispatch 把 action 传入 store<br>2.3 store.getState 获取 store 内所有的数据内容<br>2.4 store.subscribe 订阅 store 的改变，只要 store 发生改变，就会触发回调函数</li></ol><h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><h3 id="组件拆分"><a href="#组件拆分" class="headerlink" title="组件拆分"></a>组件拆分</h3><p>组件分为<strong>UI组件</strong>与<strong>容器组件</strong>。业内，把UI组件被称为“傻瓜组件”，容器组件被称为“聪明组件”。为什么？这是因为 UI组件主要负责页面渲染，容器组件主要负责页面的逻辑。</p><div class="tabs" id="组件"><ul class="nav-tabs"><li class="tab active"><a class="#组件-1">TodolistUI.js</a></li><li class="tab"><a class="#组件-2">TodoList.js</a></li><li class="tab"><a class="#组件-3">reducer.js</a></li></ul><div class="tab-content"><div class="tab-pane active" id="组件-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Input, Button, List &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoListUI</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div style=&#123;&#123; <span class="attr">marginTop</span>: <span class="string">'10px'</span>, <span class="attr">marginLeft</span>: <span class="string">'10px'</span> &#125;&#125;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;Input</span><br><span class="line">            value=&#123;<span class="keyword">this</span>.props.inputValue&#125;</span><br><span class="line">            placeholder=<span class="string">"Todo info"</span></span><br><span class="line">            style=&#123;&#123; <span class="attr">width</span>: <span class="string">'300px'</span> &#125;&#125;</span><br><span class="line">            onChange=&#123;<span class="keyword">this</span>.props.handleInputChange&#125;</span><br><span class="line">          /&gt;</span><br><span class="line">          &lt;Button type=<span class="string">"primary"</span></span><br><span class="line">            onClick=&#123;<span class="keyword">this</span>.props.handleButtonClick&#125;</span><br><span class="line"></span><br><span class="line">          &gt;提交&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;List</span><br><span class="line">          style=&#123;&#123; <span class="attr">marginTop</span>: <span class="string">'10px'</span>, <span class="attr">width</span>: <span class="string">'364px'</span> &#125;&#125;</span><br><span class="line">          bordered</span><br><span class="line">          dataSource=&#123;<span class="keyword">this</span>.props.list&#125;</span><br><span class="line">          renderItem=&#123;(item, index) =&gt; (</span><br><span class="line">            &lt;List.Item onClick=&#123;(index) =&gt; &#123; <span class="keyword">this</span>.props.handleItemDelete(index) &#125;&#125;&gt;</span><br><span class="line">              &#123;item&#125;</span><br><span class="line">            &lt;<span class="regexp">/List.Item&gt;</span></span><br><span class="line"><span class="regexp">          )&#125;</span></span><br><span class="line"><span class="regexp">        /</span>&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default TodoListUI;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="组件-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'antd/dist/antd.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> TodoListUI <span class="keyword">from</span> <span class="string">'./TodoListUI'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// const data = [</span></span><br><span class="line"><span class="comment">//   'Racing car sprays burning fuel into crowd.',</span></span><br><span class="line"><span class="comment">//   'Japanese princess to wed commoner.',</span></span><br><span class="line"><span class="comment">//   'Australian walks 100km after outback crash.',</span></span><br><span class="line"><span class="comment">//   'Man charged over missing wedding girl.',</span></span><br><span class="line"><span class="comment">//   'Los Angeles battles huge wildfires.',</span></span><br><span class="line"><span class="comment">// ];</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = store.getState();<span class="comment">//get store 数据的方法</span></span><br><span class="line">    <span class="comment">//作用域绑定</span></span><br><span class="line">    <span class="keyword">this</span>.handleInputChange = <span class="keyword">this</span>.handleInputChange.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">this</span>.handleStoreChange = <span class="keyword">this</span>.handleStoreChange.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">this</span>.handleButtonClick = <span class="keyword">this</span>.handleButtonClick.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">this</span>.handleItemDelete = <span class="keyword">this</span>.handleItemDelete.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="comment">//store 的数据只要发生改变，handleStoreChange函数就会自动执行</span></span><br><span class="line">    store.subscribe(<span class="keyword">this</span>.handleStoreChange)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;TodoListUI</span><br><span class="line">        inputValue=&#123;<span class="keyword">this</span>.state.inputValue&#125;</span><br><span class="line">        list=&#123;<span class="keyword">this</span>.state.list&#125;</span><br><span class="line">        handleInputChange=&#123;<span class="keyword">this</span>.handleInputChange&#125;</span><br><span class="line">        handleButtonClick=&#123;<span class="keyword">this</span>.handleButtonClick&#125;</span><br><span class="line">        handleItemDelete=&#123;<span class="keyword">this</span>.handleItemDelete&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleInputChange(e) &#123;</span><br><span class="line">    <span class="keyword">const</span> action = &#123;<span class="comment">//定义 action</span></span><br><span class="line">      type: <span class="string">'change_input_value'</span>,</span><br><span class="line">      value: e.target.value</span><br><span class="line">    &#125;</span><br><span class="line">    store.dispatch(action)<span class="comment">//如何传入动作给 store</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleStoreChange() &#123;</span><br><span class="line">    <span class="comment">//当感知到store组件内的数据发生改变，就替换掉原来store里的数据</span></span><br><span class="line">    <span class="keyword">this</span>.setState(store.getState())</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleButtonClick() &#123;</span><br><span class="line">    <span class="keyword">const</span> action = &#123;</span><br><span class="line">      type: <span class="string">'add_todo_item'</span></span><br><span class="line">    &#125;</span><br><span class="line">    store.dispatch(action)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleItemDelete(index) &#123;</span><br><span class="line">    <span class="keyword">const</span> action = &#123;</span><br><span class="line">      type: <span class="string">'delete_todo_item'</span>,</span><br><span class="line">      index</span><br><span class="line">    &#125;</span><br><span class="line">    store.dispatch(action)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoList;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="组件-3"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">    inputValue: <span class="string">''</span>,</span><br><span class="line">    list: []</span><br><span class="line">&#125; <span class="comment">//创建有功能【列表】的空手册</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//reducer 可接收state，但不能修改state</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state = defaultState, action) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (action.type === <span class="string">'change_input_value'</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state));<span class="comment">//深拷贝</span></span><br><span class="line">        newState.inputValue = action.value;</span><br><span class="line">        <span class="keyword">return</span> newState;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (action.type === <span class="string">'add_todo_item'</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state))</span><br><span class="line">        newState.list.push(newState.inputValue)</span><br><span class="line">        newState.inputValue = <span class="string">''</span></span><br><span class="line">        <span class="keyword">return</span> newState</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (action.type === <span class="string">'delete_todo_item'</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state))</span><br><span class="line">        newState.list.splice(action.index, <span class="number">1</span>)<span class="comment">//数组删除函数</span></span><br><span class="line">        <span class="keyword">return</span> newState</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div><h3 id="无状态组件"><a href="#无状态组件" class="headerlink" title="无状态组件"></a>无状态组件</h3><p>无状态组件就是一个函数。当一个普通组件只有一个render函数时，可以替换成一个无状态组件=&gt;可以提高性能。</p><ul><li>无状态组件是一个函数</li><li>class 要执行生命周期函数和render函数。</li></ul><details green><summary> 改写成无状态组件 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Input, Button, List &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> TodoListUI = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;<span class="comment">//传入props</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">marginTop</span>: <span class="string">'10px'</span>, <span class="attr">marginLeft</span>: <span class="string">'10px'</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Input</span><br><span class="line">          value=&#123;props.inputValue&#125;<span class="comment">//删掉this.，以下类推</span></span><br><span class="line">          placeholder=<span class="string">"Todo info"</span></span><br><span class="line">          style=&#123;&#123; <span class="attr">width</span>: <span class="string">'300px'</span> &#125;&#125;</span><br><span class="line">          onChange=&#123;props.handleInputChange&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;Button type=<span class="string">"primary"</span></span><br><span class="line">          onClick=&#123;props.handleButtonClick&#125;</span><br><span class="line"></span><br><span class="line">        &gt;提交&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">      &lt;List</span><br><span class="line">        style=&#123;&#123; <span class="attr">marginTop</span>: <span class="string">'10px'</span>, <span class="attr">width</span>: <span class="string">'364px'</span> &#125;&#125;</span><br><span class="line">        bordered</span><br><span class="line">        dataSource=&#123;props.list&#125;</span><br><span class="line">        renderItem=&#123;(item, index) =&gt; (</span><br><span class="line">          &lt;List.Item onClick=&#123;(index) =&gt; &#123; props.handleItemDelete(index) &#125;&#125;&gt;</span><br><span class="line">            &#123;item&#125;</span><br><span class="line">          &lt;<span class="regexp">/List.Item&gt;</span></span><br><span class="line"><span class="regexp">        )&#125;</span></span><br><span class="line"><span class="regexp">      /</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ class TodoListUI extends Component &#123;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/   render() &#123;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/     return (</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/       &lt;div style=&#123;&#123; marginTop: '10px', marginLeft: '10px' &#125;&#125;&gt;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/         &lt;div&gt;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/           &lt;Input</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/             value=&#123;this.props.inputValue&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/             placeholder="Todo info"</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/             style=&#123;&#123; width: '300px' &#125;&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/             onChange=&#123;this.props.handleInputChange&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/           /</span>&gt;</span><br><span class="line"><span class="comment">//           &lt;Button type="primary"</span></span><br><span class="line"><span class="comment">//             onClick=&#123;this.props.handleButtonClick&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//           &gt;提交&lt;/Button&gt;</span></span><br><span class="line"><span class="comment">//         &lt;/div&gt;</span></span><br><span class="line"><span class="comment">//         &lt;List</span></span><br><span class="line"><span class="comment">//           style=&#123;&#123; marginTop: '10px', width: '364px' &#125;&#125;</span></span><br><span class="line"><span class="comment">//           bordered</span></span><br><span class="line"><span class="comment">//           dataSource=&#123;this.props.list&#125;</span></span><br><span class="line"><span class="comment">//           renderItem=&#123;(item, index) =&gt; (</span></span><br><span class="line"><span class="comment">//             &lt;List.Item onClick=&#123;(index) =&gt; &#123; this.props.handleItemDelete(index) &#125;&#125;&gt;</span></span><br><span class="line"><span class="comment">//               &#123;item&#125;</span></span><br><span class="line"><span class="comment">//             &lt;/List.Item&gt;</span></span><br><span class="line"><span class="comment">//           )&#125;</span></span><br><span class="line"><span class="comment">//         /&gt;</span></span><br><span class="line"><span class="comment">//       &lt;/div&gt;</span></span><br><span class="line"><span class="comment">//     )</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TodoListUI;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="Redux的中间件"><a href="#Redux的中间件" class="headerlink" title="Redux的中间件"></a>Redux的中间件</h3><p>redux-thunk可以是 action 的返回值可以是一个函数。这样的函数就可以是一个异步函数</p><ol><li><p>安装redux-thunk，访问redux-thunk <a href="https://github.com/reduxjs/redux-thunk" target="_blank" rel="external nofollow noopener noreferrer">github 库</a>，并安装</p></li><li><p>在 /store/index.js 使用 applyMiddleware(),</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">'redux-thunk'</span>;</span><br><span class="line"><span class="keyword">import</span> rootReducer <span class="keyword">from</span> <span class="string">'./reducers/index'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Note: this API requires redux@&gt;=3.1.0</span></span><br><span class="line"><span class="keyword">const</span> store = createStore(rootReducer, applyMiddleware(thunk));</span><br></pre></td></tr></table></figure></li><li><p>调整 <a href="https://github.com/zalmoxisus/redux-devtools-extension" target="_blank" rel="external nofollow noopener noreferrer">redux-devtools-extension</a>的配置，同时运行 redux-thunk 与 redux-devtools-extension。</p><details green><summary> 配置 store/index.js </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'./reducer'</span></span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">'redux-thunk'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> composeEnhancers =</span><br><span class="line"><span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?</span><br><span class="line"><span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(&#123;</span><br><span class="line">  <span class="comment">// Specify extension’s options like name, </span></span><br><span class="line">  <span class="comment">// actionsBlacklist, actionsCreators, serialize...</span></span><br><span class="line">&#125;) : compose;<span class="comment">//compose 需要从react内引入</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> enhancer = composeEnhancers(</span><br><span class="line">applyMiddleware(thunk),</span><br><span class="line"><span class="comment">// other store enhancers if any</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//调用该函数，创建管理员</span></span><br><span class="line"><span class="keyword">const</span> store = createStore(reducer, enhancer);</span><br><span class="line"><span class="comment">//如果安装了 redux devtools， 那么就使用该工具</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure>              </div>            </details><h4 id="redux-thunk"><a href="#redux-thunk" class="headerlink" title="redux-thunk"></a>redux-thunk</h4></li><li><p>redux-thunk 的工作流程。</p><details yellow><summary> 流程图 </summary>              <div class="content">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201104114334.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201104114334.png" srcset="data:image/png;base64,666" alt></p>              </div>            </details></li><li><p>redux 的中间件是用来连接 Action 与 Store。其中，redux-thunk是对 dispatch 方法进行封装——升级。升级在哪里？之前的dispatch只能接受对象。升级后，dispatch可以接受对象及函数。</p><ol><li>传递对象——直接传给store</li><li>传递函数——先执行函数——判断是否需要store——决定是否传给store<h4 id="redux-saga"><a href="#redux-saga" class="headerlink" title="redux-saga"></a>redux-saga</h4>除此以外，还存在其他中间件。如 redux-logger, redux-saga(单独把异步的操作拆分到不同文件夹)。react 项目异步处理常用 redux-thunk 或 redux-saga</li></ol></li><li><p>安装 <a href="https://github.com/redux-saga/redux-saga" target="_blank" rel="external nofollow noopener noreferrer">redux-saga</a></p></li><li><p>导入 sagaMiddleware 组件，<code>import createSagaMiddleware from &#39;redux-saga&#39;</code></p></li><li><p>建立 sagaMiddleware 实例</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sagaMiddleware = createSagaMiddleware()</span><br><span class="line"><span class="keyword">const</span> enhancer = composeEnhancers(</span><br><span class="line">  applyMiddleware(sagaMiddleware)</span><br><span class="line">  <span class="comment">// other store enhancers if any</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li><p>新建 /store/sagas.js 文档，并引入 /store/index.js文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">mySagas</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> mySagas;</span><br></pre></td></tr></table></figure></li><li></li></ol><h3 id="react-redux-重写-Todolist"><a href="#react-redux-重写-Todolist" class="headerlink" title="react-redux 重写 Todolist"></a>react-redux 重写 Todolist</h3><ol><li>新建 TodoList.js 文件<details green><summary> TodoList.js，记得导出 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input /&gt;</span><br><span class="line">        &lt;button&gt;提交&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;Hpl&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/u</span>l&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default TodoList;</span></span><br></pre></td></tr></table></figure>              </div>            </details></li><li>创建 redux<ol><li>新建 store/index.js 文件【管理员】<details green><summary> 创建 store </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'./reducer'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(reducer)<span class="comment">//创建管理员；链接管理员与手册</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>              </div>            </details></li><li>创建 ./store/reducer.js 文件【管理手册】，包括 表格+条例<details green><summary> 表格+条例 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defaultState=&#123;<span class="comment">//表格</span></span><br><span class="line">  inputVale:<span class="string">''</span>,</span><br><span class="line">  List:[]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state=defaultState,action)=&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> state <span class="comment">//条例</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li></ol></li><li>链接 TodoList【react】 与 Store【redux】 <details green><summary> 在TodoList.js 内加入 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index'</span>; <span class="comment">//store导入Todolist</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = store.getState()<span class="comment">//得到store的数据</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ···</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details></li><li>用 react-redux 做链接<ol><li><div class="tabs" id="react-redux"><ul class="nav-tabs"><li class="tab active"><a class="#react-redux-1">./index.js/provider挂载</a></li><li class="tab"><a class="#react-redux-2">connect映射关系图解</a></li><li class="tab"><a class="#react-redux-3">todolist.js</a></li><li class="tab"><a class="#react-redux-4">./store/reducer.js</a></li></ul><div class="tab-content"><div class="tab-pane active" id="react-redux-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">'./TodoList'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;Provider&#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App=(</span><br><span class="line"><span class="comment">//Provider 链接上 store，那么 Provider内部的组件（如TodoList）均可获取store内的数据</span></span><br><span class="line">&lt;Provider store=&#123;store&#125;&gt; </span><br><span class="line">&lt;TodoList /&gt;</span><br><span class="line">&lt;<span class="regexp">/Provider&gt;</span></span><br><span class="line"><span class="regexp">)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">App,</span></span><br><span class="line"><span class="regexp">document.getElementById('root')</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="react-redux-2"><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201105203321.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@master02/20201105203321.png" srcset="data:image/png;base64,666" alt></p></div><div class="tab-pane" id="react-redux-3"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;input</span><br><span class="line">            value=&#123;<span class="keyword">this</span>.props.inputValue&#125;</span><br><span class="line">            onChange=&#123;<span class="keyword">this</span>.props.changeInputValue&#125;</span><br><span class="line">          /&gt;</span><br><span class="line">          &lt;button</span><br><span class="line">            onClick=&#123;<span class="keyword">this</span>.props.handleClick&#125;</span><br><span class="line">          &gt;提交&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="keyword">this</span>.props.list.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span> </span></span></span><br><span class="line"><span class="xml">              onClick=&#123;this.props.handleDelete&#125;</span></span><br><span class="line"><span class="xml">              key=&#123;index&#125;&gt;&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    inputValue: state.inputValue,</span><br><span class="line">    list: state.list</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function">(<span class="params">dispatch</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="comment">//派发action</span></span><br><span class="line">    changeInputValue(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> action = &#123;</span><br><span class="line">        type: <span class="string">'change_input_value'</span>,</span><br><span class="line">        value: e.target.value <span class="comment">//改变action内的value</span></span><br><span class="line">      &#125;</span><br><span class="line">      dispatch(action)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleClick() &#123;</span><br><span class="line">      <span class="keyword">const</span> action = &#123;</span><br><span class="line">        type: <span class="string">'add_item'</span></span><br><span class="line">      &#125;</span><br><span class="line">      dispatch(action)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete(index)&#123;</span><br><span class="line">      <span class="keyword">const</span> action = &#123;</span><br><span class="line">        type: <span class="string">'delete_item'</span>,</span><br><span class="line">        index: index <span class="comment">//改变action内的value</span></span><br><span class="line">      &#125;</span><br><span class="line">      dispatch(action)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//把store的数据按照mapStateToProps规则映射到朝向TodoList组件的props内对应的参数上</span></span><br><span class="line"><span class="comment">//如果store的state做修改，那么通过朝向store的props按照mapDispatchToProps规则进行操作</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(TodoList);</span><br><span class="line"></span><br><span class="line"><span class="comment">//state和props的区别</span></span><br><span class="line"><span class="comment">// 某个时刻他们的内容是相同的，props是传递过程的数据流，state是对应在组件上的数据</span></span><br><span class="line"><span class="comment">//可以说props是只存在于组件间流动的state</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="react-redux-4"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">inputValue: <span class="string">''</span>,</span><br><span class="line">list: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state = defaultState, action) =&gt; &#123;</span><br><span class="line"><span class="keyword">if</span> (action.type === <span class="string">'change_input_value'</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state))</span><br><span class="line">newState.inputValue = action.value <span class="comment">//接受到action的value</span></span><br><span class="line"><span class="keyword">return</span> newState</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (action.type === <span class="string">'add_item'</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state))</span><br><span class="line">newState.list.push(newState.inputValue)</span><br><span class="line">newState.inputValue = <span class="string">''</span></span><br><span class="line"><span class="keyword">return</span> newState</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (action.type === <span class="string">'delete_item'</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state))</span><br><span class="line">newState.list.splice(action.index, <span class="number">1</span>)<span class="comment">//删除数组内下标为index的那一项</span></span><br><span class="line"><span class="keyword">return</span> newState</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> state</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></div></li><li>代码优化</li></ol><ul><li>解构赋值使得代码精简<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; inputValue,list,changeInputValue,handleClick,handleDelete &#125; = <span class="keyword">this</span>.props;</span><br></pre></td></tr></table></figure></li><li>TodoList 为 UI 组件，只有一个render()方法，改写成无状态组件=&gt; 提高性能<details green><summary> TodoList 改写提高性能 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> TodoList = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123; <span class="comment">//定义函数</span></span><br><span class="line"><span class="keyword">const</span> &#123; inputValue, list, changeInputValue, handleClick, handleDelete &#125; = props;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      value=&#123;inputValue&#125;</span><br><span class="line">      onChange=&#123;changeInputValue&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;button</span><br><span class="line">      onClick=&#123;handleClick&#125;</span><br><span class="line">    &gt;提交&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &#123;</span><br><span class="line">      list.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span></span></span></span><br><span class="line"><span class="xml">          onClick=&#123;handleDelete&#125;</span></span><br><span class="line"><span class="xml">          key=&#123;index&#125;&gt;&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">inputValue: state.inputValue,</span><br><span class="line">list: state.list</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function">(<span class="params">dispatch</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="comment">//派发action</span></span><br><span class="line">changeInputValue(e) &#123;</span><br><span class="line">  <span class="keyword">const</span> action = &#123;</span><br><span class="line">    type: <span class="string">'change_input_value'</span>,</span><br><span class="line">    value: e.target.value <span class="comment">//改变action内的value</span></span><br><span class="line">  &#125;</span><br><span class="line">  dispatch(action)</span><br><span class="line">&#125;,</span><br><span class="line">handleClick() &#123;</span><br><span class="line">  <span class="keyword">const</span> action = &#123;</span><br><span class="line">    type: <span class="string">'add_item'</span></span><br><span class="line">  &#125;</span><br><span class="line">  dispatch(action)</span><br><span class="line">&#125;,</span><br><span class="line">handleDelete(index) &#123;</span><br><span class="line">  <span class="keyword">const</span> action = &#123;</span><br><span class="line">    type: <span class="string">'delete_item'</span>,</span><br><span class="line">    index: index <span class="comment">//改变action内的value</span></span><br><span class="line">  &#125;</span><br><span class="line">  dispatch(action)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//把store的数据按照mapStateToProps规则映射到朝向TodoList组件的props内对应的参数上</span></span><br><span class="line"><span class="comment">//如果store的state做修改，那么通过朝向store的props按照mapDispatchToProps规则进行操作</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(TodoList);<span class="comment">//返回结果是容器组件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//state和props的区别</span></span><br><span class="line"><span class="comment">// 某个时刻他们的内容是相同的，props是传递过程的数据流，state是对应在组件上的数据</span></span><br><span class="line"><span class="comment">//可以说props是只存在于组件间流动的state</span></span><br></pre></td></tr></table></figure>              </div>            </details></li></ul></li></ol>]]></content>
    
    
    <summary type="html">作为新手，该怎么学习react呢？这是一篇reactjs的极简笔记</summary>
    
    
    
    <category term="Code" scheme="http://loglist.github.io/categories/Code/"/>
    
    
    <category term="notes" scheme="http://loglist.github.io/tags/notes/"/>
    
    <category term="react" scheme="http://loglist.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>JS极简笔记</title>
    <link href="http://loglist.github.io/2020/10/22/JS%E6%9E%81%E7%AE%80%E7%AC%94%E8%AE%B0/"/>
    <id>http://loglist.github.io/2020/10/22/JS%E6%9E%81%E7%AE%80%E7%AC%94%E8%AE%B0/</id>
    <published>2020-10-22T03:21:25.533Z</published>
    <updated>2020-10-27T18:44:57.706Z</updated>
    
    <content type="html"><![CDATA[<h3 id="json基础"><a href="#json基础" class="headerlink" title="json基础"></a>json基础</h3><ul><li>json的变量声明</li><li>JSON.stringify()，将json的object物件转换为json-string，<span class="p red">但是方法会丢失</span></li><li>JSON.parse()，将json-string转换为json-object<a id="more"></a><details green><summary> json demo与源码 </summary>              <div class="content">              <div class="tabs" id="01"><ul class="nav-tabs"><li class="tab active"><a class="#01-1">demo</a></li><li class="tab"><a class="#01-2">源码</a></li></ul><div class="tab-content"><div class="tab-pane active" id="01-1"><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/js_json%E5%9F%BA%E7%A1%80.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/js_json%E5%9F%BA%E7%A1%80.jpg" srcset="data:image/png;base64,666" alt="json基础运行"></p></div><div class="tab-pane" id="01-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>json 基础教学<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> point=&#123; <span class="comment">//json定义一个point物件</span></span></span><br><span class="line"><span class="actionscript">            <span class="string">"x"</span>:<span class="number">3</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"y"</span>:<span class="number">4</span>,</span></span><br><span class="line"><span class="actionscript">            <span class="string">"get"</span>:<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="keyword">this</span>.x+<span class="string">","</span>+<span class="keyword">this</span>.y)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="actionscript">        <span class="comment">// point.get();</span></span></span><br><span class="line"></span><br><span class="line">        /*网络传输需要将物件Object转化为json字符串，stringify()函数</span><br><span class="line"><span class="actionscript">        当然也是有丢失的，如<span class="keyword">get</span>()方法丢失。</span></span><br><span class="line">        */</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> jsonStr=<span class="built_in">JSON</span>.stringify(point)</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">//json字符串可以重新转化为json物件，parse()函数 ，其中，parse .v 分开</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(jsonStr)<span class="comment">//传入var</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        plainObject=<span class="built_in">JSON</span>.parse(jsonStr)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(plainObject)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div></div></div>              </div>            </details></li></ul><span class="btn"><a class="button" href="/storage/html/jscode/json.html" title="运行一下"><i class="fas fa-terminal"></i>运行一下</a></span><h3 id="JS-hoisting宣告提升"><a href="#JS-hoisting宣告提升" class="headerlink" title="JS-hoisting宣告提升"></a>JS-hoisting宣告提升</h3><h4 id="变量的宣告提升"><a href="#变量的宣告提升" class="headerlink" title="变量的宣告提升"></a>变量的宣告提升</h4><p>js-hoisting被称为宣告提升，<strong>宣告提升</strong>仅限于类似<code>var x</code>的单条语句。</p><details green><summary> JS-hoisting造成运行结果一致 </summary>              <div class="content">              <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> x;</span></span><br><span class="line">    x = 10;</span><br><span class="line">    alert(x);</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>与<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    x = 10;</span><br><span class="line">    alert(x);</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> x;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>以上两块代码的运行结果是一致的，均弹出**10**；              </div>            </details><p>原因在于，JavaScript的渲染引擎具备<strong>宣告提升</strong>的特质。</p><details red><summary> 宣告提升仅限于类似"var x"的单条语句 </summary>              <div class="content">              <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">// x = 10;</span></span></span><br><span class="line">    alert(x);</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> x = <span class="number">10</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>运行结果为弹出**undefined**              </div>            </details><p>原因在于，<code>var x = 10;</code>对于js引擎来说是两个语句，即<code>var x; x = 10;</code> 。js引擎只对<code>var x;</code>该语句提升。</p><h4 id="函数的宣告提升"><a href="#函数的宣告提升" class="headerlink" title="函数的宣告提升"></a>函数的宣告提升</h4><details green><summary> js引擎只对"var sayhello();"语句宣告提升 </summary>              <div class="content">              <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    sayhello();</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">sayhello</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">"hello"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>与<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    sayhello();</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> sayhello = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        alert(<span class="string">"hello"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>以上两块代码的运行结果是不一致的，前者弹出**hello**,后者无弹出。              </div>            </details><p>原因在于，<code>var sayhello = function ()</code>对js引擎类似于两个语句，<code>var sayhello();function sayhello(){···};</code>。js引擎只对<code>var sayhello();</code>语句宣告提升。</p><h3 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener"></a>addEventListener</h3><p>连接交互动作（js内置的动作）与函数</p><details green><summary> addEventListener变化的图形 </summary>              <div class="content">              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span><br><span class="line">    <span class="comment">//监听事件</span></span><br><span class="line">    box.addEventListener(<span class="string">"mouseover"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.style.opacity = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.height = <span class="string">'300px'</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.width = <span class="string">'50px'</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">'blue'</span>;<span class="comment">//color改变需要加引号</span></span><br><span class="line">        <span class="keyword">this</span>.style.borderRadius = <span class="string">'5px'</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.boxShadow = <span class="string">'2px 2px 6px blue'</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    box.addEventListener(<span class="string">"mouseout"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.style.opacity = <span class="number">0.5</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.height = <span class="string">'150px'</span>;<span class="comment">//px去掉</span></span><br><span class="line">        <span class="keyword">this</span>.style.width = <span class="string">'150px'</span>;</span><br><span class="line">        <span class="comment">//js对应的属性中由'-'的，去掉'-',变为'-'的首字母大写</span></span><br><span class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">"blue"</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.borderRadius = <span class="string">"50%"</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.boxShadow = <span class="string">'0px 0px 0px '</span>;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> circle = <span class="built_in">document</span>.getElementById(<span class="string">"circle"</span>)</span><br><span class="line">    circle.addEventListener(<span class="string">"mouseover"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.style.borderRadius = <span class="string">"0"</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">"yellow"</span></span><br><span class="line">    &#125;)</span><br><span class="line">    circle.addEventListener(<span class="string">"mouseout"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.style.borderRadius = <span class="string">"50%"</span>;</span><br><span class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">"purple"</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><span class="btn 样式参数（可选）"><a class="button" href="/storage/html/csscode/css-transition.html" title="运行一下"><i class="fas fa-terminal"></i>运行一下</a></span>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;json基础&quot;&gt;&lt;a href=&quot;#json基础&quot; class=&quot;headerlink&quot; title=&quot;json基础&quot;&gt;&lt;/a&gt;json基础&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;json的变量声明&lt;/li&gt;
&lt;li&gt;JSON.stringify()，将json的object物件转换为json-string，&lt;span class=&quot;p red&quot;&gt;但是方法会丢失&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;JSON.parse()，将json-string转换为json-object</summary>
    
    
    
    <category term="Code" scheme="http://loglist.github.io/categories/Code/"/>
    
    
    <category term="js" scheme="http://loglist.github.io/tags/js/"/>
    
    <category term="notes" scheme="http://loglist.github.io/tags/notes/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://loglist.github.io/2020/10/22/hello-world/"/>
    <id>http://loglist.github.io/2020/10/22/hello-world/</id>
    <published>2020-10-22T03:20:55.017Z</published>
    <updated>2020-03-23T11:13:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external nofollow noopener noreferrer">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external nofollow noopener noreferrer">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external nofollow noopener noreferrer">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external nofollow noopener noreferrer">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external nofollow noopener noreferrer">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external nofollow noopener noreferrer">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="external nofollow noopener noreferrer">Deployment</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noopener noreferrer&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noopener noreferrer&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noopener noreferrer&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noopener noreferrer&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;</summary>
    
    
    
    <category term="Site" scheme="http://loglist.github.io/categories/Site/"/>
    
    
    <category term="Hexo" scheme="http://loglist.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>css 极简笔记</title>
    <link href="http://loglist.github.io/2020/10/20/css3%E6%9E%81%E7%AE%80%E7%AC%94%E8%AE%B0/"/>
    <id>http://loglist.github.io/2020/10/20/css3%E6%9E%81%E7%AE%80%E7%AC%94%E8%AE%B0/</id>
    <published>2020-10-19T19:33:54.000Z</published>
    <updated>2020-10-29T08:46:56.898Z</updated>
    
    <content type="html"><![CDATA[<h3 id="can-i-use"><a href="#can-i-use" class="headerlink" title="can i use"></a>can i use</h3><p>html5、css3的技术文档由W3C制定，由chrome、Edge、safari、firefox实现；这中间需要一段时间，知道一段css3代码是否被这些浏览器支持非常重要，<a href="https://caniuse.com/" target="_blank" rel="external nofollow noopener noreferrer">caniuse</a>可以解决该问题。</p><details green><summary> 如何使用caniuse </summary>              <div class="content">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/css%E6%9E%81%E7%AE%80.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/css%E6%9E%81%E7%AE%80.jpg" srcset="data:image/png;base64,666" alt="caniuse"></p>              </div>            </details><h3 id="新的属性"><a href="#新的属性" class="headerlink" title="新的属性"></a>新的属性</h3><h4 id="透明度与阴影"><a href="#透明度与阴影" class="headerlink" title="透明度与阴影"></a>透明度与阴影</h4><details green><summary> opacity与box-shadow </summary>              <div class="content">              <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">            <span class="attribute">background-color</span>: tomato;</span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">            <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">#000000</span>; </span><br><span class="line">            <span class="comment">/*阴影x向位移，阴影y向位移，阴影边缘模糊，阴影颜色*/</span></span><br><span class="line">            <span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">#ffffff</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h4 id="线性转换"><a href="#线性转换" class="headerlink" title="线性转换"></a>线性转换</h4><p>css3 线性转换包括位移<code>translate</code>、缩放<code>scale</code>、旋转<code>rotate</code>、变形<code>skew</code>。</p><details green><summary> translate的设定 </summary>              <div class="content">              <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="comment">/*位移，x向位移，y向位移*/</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">100px</span>,<span class="number">50px</span>);</span><br><span class="line">    <span class="comment">/*缩放，x向缩放，y向缩放*/</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.5</span>,<span class="number">0.5</span>);</span><br><span class="line">    <span class="comment">/* 旋转，角度单位deg */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="comment">/* 变形，角度单位deg */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">skew</span>(<span class="number">20deg</span>) <span class="built_in">rotate</span>(<span class="number">45deg</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><p>线性转换能做什么呢？</p><details green><summary> 简单的立方体 </summary>              <div class="content">              <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cube</span>&gt;<span class="selector-class">.top</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#dddddd</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">skew</span>(-<span class="number">45deg</span>, <span class="number">0</span>) <span class="built_in">translate</span>(<span class="number">30px</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cube</span>&gt;<span class="selector-class">.center</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#aaaaaa</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cube</span>&gt;<span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#888888</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">skew</span>(<span class="number">0</span>, -<span class="number">45deg</span>) <span class="built_in">translate</span>(-<span class="number">8px</span>, -<span class="number">38px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><span class="btn 样式参数（可选）"><a class="button" href="/storage/html/csscode/css3-cube.html" title="运行一下"><i class="fas fa-terminal"></i>运行一下</a></span><h3 id="动画效果"><a href="#动画效果" class="headerlink" title="动画效果"></a>动画效果</h3><h4 id="animation闪烁"><a href="#animation闪烁" class="headerlink" title="animation闪烁"></a>animation闪烁</h4><details green><summary> 定义闪烁的动作 </summary>              <div class="content">              <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> blink &#123;</span><br><span class="line">            0%&#123;<span class="attribute">opacity</span>: <span class="number">0</span>;&#125;</span><br><span class="line">            50%&#123;<span class="attribute">opacity</span>: <span class="number">0.5</span>;&#125;</span><br><span class="line">            100%&#123;<span class="attribute">opacity</span>: <span class="number">1</span>;&#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>              </div>            </details><span class="btn 样式参数（可选）"><a class="button" href="/storage/html/csscode/css-animation.html" title="运行一下"><i class="fas fa-terminal"></i>运行一下</a></span><h4 id="transition渐变"><a href="#transition渐变" class="headerlink" title="transition渐变"></a>transition渐变</h4><p>当用js对<strong>transiton：</strong>后的属性进行重新设定时，这些属性有自动渐变效果</p><details green><summary> transition渐变设置 </summary>              <div class="content">              <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">    <span class="attribute">transition</span>: opacity <span class="number">1s</span>, height <span class="number">1s</span>, width <span class="number">1.8s</span>, background-color <span class="number">1s</span>,</span><br><span class="line">        border-radius <span class="number">1s</span>, box-shadow <span class="number">2s</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.circle</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: purple;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transition</span>: background-color <span class="number">1s</span>, border-radius <span class="number">1.5s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><span class="btn 样式参数（可选）"><a class="button" href="/storage/html/csscode/css-transition.html" title="运行一下"><i class="fas fa-terminal"></i>运行一下</a></span>]]></content>
    
    
    <summary type="html">css 极简笔记，努力学习前端开发吧</summary>
    
    
    
    <category term="Code" scheme="http://loglist.github.io/categories/Code/"/>
    
    
    <category term="notes" scheme="http://loglist.github.io/tags/notes/"/>
    
    <category term="css" scheme="http://loglist.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>jsdelivr与picgo加速的github图床</title>
    <link href="http://loglist.github.io/2020/10/19/Hexo%E7%9A%84jsdelivr-picgo%E5%9B%BE%E5%BA%8A%E4%B8%8Erss%E8%AE%A2%E9%98%85/"/>
    <id>http://loglist.github.io/2020/10/19/Hexo%E7%9A%84jsdelivr-picgo%E5%9B%BE%E5%BA%8A%E4%B8%8Erss%E8%AE%A2%E9%98%85/</id>
    <published>2020-10-18T16:42:53.000Z</published>
    <updated>2020-10-27T18:49:47.450Z</updated>
    
    <content type="html"><![CDATA[<p>个人非常喜欢rss订阅。它不仅收集信息方便快捷，而且筛选起来更容易；彷佛是个低配版的脚本一样。目前在用<a href="https://www.inoreader.com/" target="_blank" rel="external nofollow noopener noreferrer">inoreader</a>的免费版，配上<a href="https://docs.rsshub.app/" target="_blank" rel="external nofollow noopener noreferrer">万物均可rss</a>用着还行。所以，自己的博客不添加rss确实说不过去。</p><a id="more"></a><h3 id="添加rss订阅"><a href="#添加rss订阅" class="headerlink" title="添加rss订阅"></a>添加rss订阅</h3><p>从下面的文章不难推知添加rss订阅很简单：</p><div class="tag link"><a class="link-card" title="为Hexo添加RSS订阅" href="https://hasaik.com/posts/19c94341.html" target="_blank" rel="external nofollow noopener noreferrer"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"></div><div class="right"><p class="text">为Hexo添加RSS订阅</p><p class="url">https://hasaik.com/posts/19c94341.html</p></div></a></div><p>主要分三步：</p><ul><li>安装<code>npm install hexo-generator-feed --save</code></li><li>修改根目录<strong>_config.yml</strong><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#订阅RSS</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li>修改主题目录<strong>_config.yml</strong><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#rss</span></span><br><span class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure>搞定！<a href="https://loglist.github.io/atom.xml">试一下</a>吧！</li></ul><h3 id="jsdelivr限制50M？"><a href="#jsdelivr限制50M？" class="headerlink" title="jsdelivr限制50M？"></a>jsdelivr限制50M？</h3><p>jsdelivr+<a href="https://picgo.github.io/PicGo-Doc/" target="_blank" rel="external nofollow noopener noreferrer">picgo</a>建立免费图床早已熟稔，甚至于50M的限制也可以添加<code>tag</code>来<a href="https://loglist.github.io/2020/10/26/Jsdeivr限制50M后怎么办/">突破</a>。这里主要是介绍picgo的插件<strong>github-plus</strong>。有了它，你可以在本地更容易地管理github-repo内的图片。安装之后，再细说配置及使用要领。</p><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/picgo3.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/picgo3.jpg" srcset="data:image/png;base64,666" alt="github-plus"><br>安装也易，就是点开插件设置-在图上空白位置输入<strong>github-plus</strong>，搜索后，点击install即可。</p><h4 id="github-plus配置"><a href="#github-plus配置" class="headerlink" title="github-plus配置"></a>github-plus配置</h4><p>配置也容易，麻烦点的就是申请token，寻着上面picgo-doc即可。<br><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/picgo4.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/picgo4.jpg" srcset="data:image/png;base64,666" alt="github-plus配置"></p><h4 id="github-plus的使用"><a href="#github-plus的使用" class="headerlink" title="github-plus的使用"></a>github-plus的使用</h4><p>关键点就在于<strong>Sync origin</strong>和<strong>Pull origin</strong>这两个按钮的使用了。</p><ul><li><p>Sync origin<br>同步本地的<code>data.json</code>至github的repo；即在本地相册点删除后，在插件设置点该按钮，即可删除在github-repo内的图片。</p></li><li><p>Pull origin<br>将github-repo内的图片信息同步至本地，可将缩略图显示在picgo的相册，如下图。</p><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/picgo2.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/picgo2.jpg" srcset="data:image/png;base64,666" alt="picgo的相册"><br>相册显示需选择对应的图床，唯一遗憾的是相册右边的图片个数同步<del>有些迟钝</del>。</p></li></ul>]]></content>
    
    
    <summary type="html">除了解决hexo的rss订阅问题，还想说一说jsdelivr和picgo加速下的github图床使用问题</summary>
    
    
    
    <category term="Skill" scheme="http://loglist.github.io/categories/Skill/"/>
    
    
    <category term="rss" scheme="http://loglist.github.io/tags/rss/"/>
    
    <category term="jsdelivr" scheme="http://loglist.github.io/tags/jsdelivr/"/>
    
  </entry>
  
  <entry>
    <title>ffmpeg批量将flac转wav</title>
    <link href="http://loglist.github.io/2020/10/14/shell-ffmpeg%E6%89%B9%E9%87%8F%E8%BD%ACflac%E8%87%B3wav%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://loglist.github.io/2020/10/14/shell-ffmpeg%E6%89%B9%E9%87%8F%E8%BD%ACflac%E8%87%B3wav%E7%9A%84%E6%96%B9%E6%B3%95/</id>
    <published>2020-10-14T03:32:25.000Z</published>
    <updated>2020-10-27T18:49:24.606Z</updated>
    
    <content type="html"><![CDATA[<p>前段时间搭建了<a href="https://loglist.github.io/2020/10/11/theErrorAboutInstallOlaindex/">H大</a>个人网盘，配合<red>适当的</red><a href="https://xn--mesr8b36x.com/#/register?code=aPPAoth1" target="_blank" rel="external nofollow noopener noreferrer">节点</a>速度不错。其中有<code>music</code>文件夹放些无损歌曲，奈何苹果不支持.flac格式的音乐文件播放；所以想到用<strong>ffmepg</strong>转换歌曲格式。随着歌曲增多，如何智能地批量执行flac2wav成了需求。</p><a id="more"></a><h3 id="批量flac2wav"><a href="#批量flac2wav" class="headerlink" title="批量flac2wav"></a>批量flac2wav</h3><p>这个实现起来还算容易，主要借助shell写一个bash脚本走一个循环即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> *.flac</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    ffmpeg -i i <span class="variable">$i</span>.wav</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>但是问题显而易见的，<strong>$i</strong>获取的文件名含拓展名，那么，从$i中提取出所需文字成为新的目标。</p><h3 id="shell提取文字"><a href="#shell提取文字" class="headerlink" title="shell提取文字"></a>shell提取文字</h3><p>从以下文章可推知：shell提取文字大致分两种：</p><div class="tag link"><a class="link-card" title="shell提取文字的一些方法" href="https://blog.csdn.net/ljianhui/article/details/43128465" target="_blank" rel="external nofollow noopener noreferrer"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"></div><div class="right"><p class="text">shell提取文字的一些方法</p><p class="url">https://blog.csdn.net/ljianhui/article/details/43128465</p></div></a></div><div class="tabs" id="tab-id"><ul class="nav-tabs"><li class="tab active"><a class="#tab-id-1">两种方法</a></li><li class="tab"><a class="#tab-id-2"># %</a></li><li class="tab"><a class="#tab-id-3">* $ {}</a></li><li class="tab"><a class="#tab-id-4">basename和dirname</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-id-1"><ul><li># % * $ {}符号提取文字</li><li>shell关键字basename和dirname</li></ul></div><div class="tab-pane" id="tab-id-2"><ul><li>#：表示从左边算起第一个</li><li>%：表示从右边算起第一个</li><li>##：表示从左边算起最后一个</li><li>%%：表示从右边算起最后一个</li></ul></div><div class="tab-pane" id="tab-id-3"><ul><li>${var%%x*}</li><li>＊：表示删除</li><li>起止位置由 <strong>%%x</strong> 表示：删除右边最后一个x，包含x的内容<ul><li>%x时，*在x右边，其中<strong>x</strong>为目标位置</li><li>#x时，*在x左边，写作 <strong>##*x</strong></li></ul></li></ul></div><div class="tab-pane" id="tab-id-4"><p>没有使用，想着用嵌套#%*代替</p></div></div></div><p>于是，提取到文件名变得可行，就有</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="variable">$&#123;name%.*&#125;</span>  <span class="comment">#删掉右边第一个"."及"."，删掉拓展名</span></span><br><span class="line">name=<span class="variable">$&#123;name##*/&#125;</span> <span class="comment">#删掉左边最后一个"/"及"/"，删掉存储路径</span></span><br></pre></td></tr></table></figure><h3 id="转换过的需要跳过"><a href="#转换过的需要跳过" class="headerlink" title="转换过的需要跳过"></a>转换过的需要跳过</h3><p>批量flac2wav的问题似乎解决了，但又不是那么完整。比如：总不能每次将已经转换的文件再次转换吧？文件少时还好说，文件多时就要耗时了！<br>这个问题解决起来也容易，给转换过的歌曲建立列表。如果新的歌曲不再列表内，就转换；反之，则不转换。那么，就变成<strong>提取列表+转换前判断</strong>了。<br>已知的，我需要将wav格式的歌曲放在单独文件夹<em>wav</em>下，为了苹果设备的使用。就有：</p><h4 id="已转换歌曲的目录"><a href="#已转换歌曲的目录" class="headerlink" title="已转换歌曲的目录"></a>已转换歌曲的目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">array_songs=() <span class="comment">#建立空数组</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> ../wav/*.wav</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    name=<span class="variable">$&#123;name%.*&#125;</span> <span class="comment">#删掉拓展名</span></span><br><span class="line">    array_songs=(<span class="string">"<span class="variable">$&#123;array_songs[@]&#125;</span>"</span>,<span class="variable">$&#123;name##*/&#125;</span>) <span class="comment">#删掉路径</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array_songs[@]&#125;</span> <span class="comment">#打印数组所有元素</span></span><br></pre></td></tr></table></figure><h4 id="判断是否转换"><a href="#判断是否转换" class="headerlink" title="判断是否转换"></a>判断是否转换</h4><p>  获取当前目录所有的<em>.flac</em>歌曲，并将每个名字与列表比对，就有：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> *.flac</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">name=<span class="variable">$&#123;name%.*&#125;</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">"<span class="variable">$&#123;array_songs[@]&#125;</span>"</span>  =~ <span class="string">"<span class="variable">$&#123;name&#125;</span>"</span> ]]; <span class="keyword">then</span> <span class="comment">#已转换时</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;name&#125;</span>.flac 已转换成wav"</span></span><br><span class="line"><span class="keyword">elif</span> [[ ! <span class="string">"<span class="variable">$&#123;array_songs[@]&#125;</span>"</span>  =~ <span class="string">"<span class="variable">$&#123;name&#125;</span>"</span> ]]; <span class="keyword">then</span> <span class="comment">#未转换时</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;name&#125;</span>.flac 正在转换成wav"</span></span><br><span class="line">    ffmpeg -i <span class="string">"<span class="variable">$&#123;name&#125;</span>.flac"</span> <span class="string">"../mac/<span class="variable">$&#123;name%.*&#125;</span>.wav"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h3 id="让程序复用及人性化"><a href="#让程序复用及人性化" class="headerlink" title="让程序复用及人性化"></a>让程序复用及人性化</h3><p>如果没有提示语句，就会让程序生硬。如果没有程序复用，就显得冗余；所以使用了函数体。就有：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">existSongsLine</span></span>()&#123; <span class="comment">#声明函数</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"==================================================="</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">addSongsLine</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"+++++++++++++++++++++++++++++++++++++++++++++++++++"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">### 获取已转换的歌曲目录</span></span><br><span class="line"><span class="function"><span class="title">existSongs</span></span>()&#123;</span><br><span class="line">    array_songs=()</span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> ../mac/*.wav</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        name=<span class="variable">$&#123;name%.*&#125;</span></span><br><span class="line">        array_songs=(<span class="string">"<span class="variable">$&#123;array_songs[@]&#125;</span>"</span>,<span class="variable">$&#123;name##*/&#125;</span>)</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    existSongsLine</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;array_songs[@]&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">array_songs=($(existSongs)) <span class="comment">#建立已转换歌曲的数组变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#判断是否有新的歌曲需要转换成wav</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> *.flac;<span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">    name=<span class="variable">$&#123;name%.*&#125;</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="string">"<span class="variable">$&#123;array_songs[@]&#125;</span>"</span>  =~ <span class="string">"<span class="variable">$&#123;name&#125;</span>"</span> ]]; <span class="keyword">then</span></span><br><span class="line">        existSongsLine</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;name&#125;</span>.flac 已转换成wav"</span></span><br><span class="line">    <span class="keyword">elif</span> [[ ! <span class="string">"<span class="variable">$&#123;array_songs[@]&#125;</span>"</span>  =~ <span class="string">"<span class="variable">$&#123;name&#125;</span>"</span> ]]; <span class="keyword">then</span></span><br><span class="line">        addSongsLine</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;name&#125;</span>.flac 正在转换成wav"</span></span><br><span class="line">        add=1</span><br><span class="line">        ffmpeg -i <span class="string">"<span class="variable">$&#123;name&#125;</span>.flac"</span> <span class="string">"../mac/<span class="variable">$&#123;name%.*&#125;</span>.wav"</span></span><br><span class="line">        existSongsLine</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;name&#125;</span>.flac 已转换成wav"</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#提示歌曲是否增加，其实还可以加入打印歌曲数量的功能</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$&#123;add&#125;</span> -eq 0 ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">"\n"</span></span><br><span class="line">    addSongsLine</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"没有要转换的flac歌曲"</span></span><br><span class="line">    addSongsLine</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#打印已转换的歌曲</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">"\n已转换成wav的全部歌曲: "</span></span><br><span class="line">existSongs</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ffmpeg音频格式转换，如何将flac批量转至wav，要用到shell脚本</summary>
    
    
    
    <category term="Skill" scheme="http://loglist.github.io/categories/Skill/"/>
    
    
    <category term="Shell" scheme="http://loglist.github.io/tags/Shell/"/>
    
    <category term="ffmpeg" scheme="http://loglist.github.io/tags/ffmpeg/"/>
    
  </entry>
  
  <entry>
    <title>theErrorAboutInstallOlaindex</title>
    <link href="http://loglist.github.io/2020/10/11/theErrorAboutInstallOlaindex/"/>
    <id>http://loglist.github.io/2020/10/11/theErrorAboutInstallOlaindex/</id>
    <published>2020-10-11T05:05:49.000Z</published>
    <updated>2020-10-27T18:49:29.192Z</updated>
    
    <content type="html"><![CDATA[<h3 id="theErrorCameFrome"><a href="#theErrorCameFrome" class="headerlink" title="theErrorCameFrome"></a>theErrorCameFrome</h3><p>I came across <a href="https://github.com/WangNingkai/OLAINDEX" target="_blank" rel="external nofollow noopener noreferrer">this project</a>  by chance. By this project, i can browse document( like video, pdf, pic and so on) easily.</p><a id="more"></a><p>I fellow the <a href="https://olaindex.js.org/#/" target="_blank" rel="external nofollow noopener noreferrer">wiki</a> of the OlaINdex step by step. However, you don’t kow how terrible it is! The reason is that the project update to the vesion 5.0, but its wiki was at version 4.0. I just like a dumb bunny!</p><p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_1.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_1.jpg" srcset="data:image/png;base64,666" alt="thedocyourneed"></p><p>And finally, I used <a href="https://suyin-blog.club/2020/2VH10V0/" target="_blank" rel="external nofollow noopener noreferrer">another document</a> under the OlaIndex project <a href="https://github.com/WangNingkai/OLAINDEX/issues/305" target="_blank" rel="external nofollow noopener noreferrer">issue</a>。</p><p>And at this time，it goes very well except a little problem.</p><h3 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h3><h4 id="ErrorCode-500"><a href="#ErrorCode-500" class="headerlink" title="ErrorCode: 500"></a>ErrorCode: 500</h4><p>Just beacuse you can’t do <green>composer run install-app</green> correctly, and you need to check: </p><ul><li>if these php function delet correctly</li><li>if the .env exists under your site folder(name is same as your domain)</li><li>if the .env sets correctly</li><li>if the <green>composer install -vvv</green> runs correctly</li></ul><p>After these, you can run the fellow code again,</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">composer install -vvv </span><br><span class="line">chmod -R 777 storage </span><br><span class="line">chown -R www:www * </span><br><span class="line">composer run install-app</span><br></pre></td></tr></table></figure><p>From here, you can see<br><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_4.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_4.jpg" srcset="data:image/png;base64,666" alt="firstconsult"><br>取得阶段性胜利！</p><h4 id="ErrorCode-419"><a href="#ErrorCode-419" class="headerlink" title="ErrorCode: 419"></a>ErrorCode: 419</h4><p>just lisk the fellow figure.<br><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_error_419.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_error_419.jpg" srcset="data:image/png;base64,666" alt="error419"><br>Because the floder named <strong>storage</strong> doesn’t have enough competence。You can run the fellow code again:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 storage</span><br></pre></td></tr></table></figure><h4 id="ErrorLikeThisPic"><a href="#ErrorLikeThisPic" class="headerlink" title="ErrorLikeThisPic"></a>ErrorLikeThisPic</h4><p>just lisk the fellow figure.<br><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_3.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_3.jpg" srcset="data:image/png;base64,666" alt="olaindex_2"><br><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_2.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/olaindex_2.jpg" srcset="data:image/png;base64,666" alt="olaindex_3"><br>换个浏览器登录一下就可以了，是因为浏览器记住了密码，小麻烦！</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;theErrorCameFrome&quot;&gt;&lt;a href=&quot;#theErrorCameFrome&quot; class=&quot;headerlink&quot; title=&quot;theErrorCameFrome&quot;&gt;&lt;/a&gt;theErrorCameFrome&lt;/h3&gt;&lt;p&gt;I came across &lt;a href=&quot;https://github.com/WangNingkai/OLAINDEX&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noopener noreferrer&quot;&gt;this project&lt;/a&gt;  by chance. By this project, i can browse document( like video, pdf, pic and so on) easily.&lt;/p&gt;</summary>
    
    
    
    <category term="Skill" scheme="http://loglist.github.io/categories/Skill/"/>
    
    
    <category term="error" scheme="http://loglist.github.io/tags/error/"/>
    
  </entry>
  
  <entry>
    <title>numpy</title>
    <link href="http://loglist.github.io/2020/09/30/numpy/"/>
    <id>http://loglist.github.io/2020/09/30/numpy/</id>
    <published>2020-09-30T00:17:28.000Z</published>
    <updated>2020-10-27T16:08:47.460Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Array-represents-Pic"><a href="#Array-represents-Pic" class="headerlink" title="Array represents Pic"></a>Array represents Pic</h3><p>need to install a third party library, <code>pip install pillow</code>, <span class="p red">read pic --> convert by PIL --> save as another pic</span></p><a id="more"></a><h3 id="Matpotlib"><a href="#Matpotlib" class="headerlink" title="Matpotlib"></a>Matpotlib</h3><h4 id="Partition-and-location"><a href="#Partition-and-location" class="headerlink" title="Partition and location"></a>Partition and location</h4><p>If I need more than one figure, how can I make it? Just like the figure below.</p><div class="gallery 图表上下分布">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/numpy_Figure_1.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/numpy_Figure_1.png" srcset="data:image/png;base64,666" alt="图表上下分布"></p>            </div><details using plt.subplot can do it><summary> plt.subplot code </summary>              <div class="content">              <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pip install matpotlib <span class="comment"># first use needing to intall the third party library</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a =np.arange(<span class="number">0.0</span>,<span class="number">5.0</span>,<span class="number">0.02</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>)   <span class="comment">#partition  and location</span></span><br><span class="line">plt.plot([<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>])</span><br><span class="line">plt.ylabel(<span class="string">"Grade"</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>) </span><br><span class="line">plt.plot(a,np.cos(<span class="number">2</span>*np.pi*a),<span class="string">"r,-"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Grade"</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>              </div>            </details><p>more complex grid, use <strong>plt.subplot2grid()</strong>, just like the code below</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot2grid((<span class="number">3</span>,<span class="number">3</span>),(<span class="number">0</span>,<span class="number">0</span>),colspan=<span class="number">3</span>/rowspan=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>Or use <strong>matplotlib.gridspec</strong>， making a grid shown as in the figure below</p><div class="gallery 更多图表分布">              <p><img src="https://cdn.jsdelivr.net/gh/loglist/img@0.1/numpy_Figure_2.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/loglist/img@0.1/numpy_Figure_2.png" srcset="data:image/png;base64,666" alt="更多图表分布"></p>            </div><details using matplotlib.gridspec can do it><summary> matplotlib.gridspec code </summary>              <div class="content">              <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.gridspec <span class="keyword">as</span> gsp</span><br><span class="line"></span><br><span class="line">gs = gsp.GridSpec(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">ax1 = plt.subplot(gs[<span class="number">0</span>, :])</span><br><span class="line"></span><br><span class="line">ax2 = plt.subplot(gs[<span class="number">1</span>, :<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">ax2 = plt.subplot(gs[<span class="number">1</span>:, <span class="number">2</span>])</span><br><span class="line">ax2 = plt.subplot(gs[<span class="number">2</span>, <span class="number">0</span>])</span><br><span class="line">ax2 = plt.subplot(gs[<span class="number">2</span>, <span class="number">1</span>]) <span class="comment"># or using 'ax2 = plt.subplot(gs[-1, 1])'</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>              </div>            </details><table><thead><tr><th>0</th><th>1</th><th>2 or -1</th></tr></thead><tbody><tr><td>1</td><td></td><td></td></tr><tr><td>2 or -1</td><td></td><td></td></tr></tbody></table><p>And what is the meaning of <green>x, y, z</green> in the plt.subplot(gs[x, y:z]) ?<br>Especially，<strong>‘，’ is a divider.</strong><br>The left part represents the index of row, and the right part represent the index of column. Swaping the left and right part can lead to a block rotate 90 degrees.</p><h4 id="Supporte-Chinese"><a href="#Supporte-Chinese" class="headerlink" title="Supporte Chinese"></a>Supporte Chinese</h4><details font-family table><summary> 中文字体 </summary>              <div class="content">              <table><thead><tr><th>fontproperties</th><th>中文字体</th></tr></thead><tbody><tr><td>Simhei</td><td>黑体</td></tr></tbody></table>              </div>            </details>]]></content>
    
    
    <summary type="html">简单地描述了numpy的图表功能</summary>
    
    
    
    <category term="Code" scheme="http://loglist.github.io/categories/Code/"/>
    
    
    <category term="Python" scheme="http://loglist.github.io/tags/Python/"/>
    
    <category term="Numpy" scheme="http://loglist.github.io/tags/Numpy/"/>
    
  </entry>
  
  <entry>
    <title>A New Way To Sync SourceCode Of Hexo</title>
    <link href="http://loglist.github.io/2020/03/25/aNewWayToSyncSourceCodeOfHexo/"/>
    <id>http://loglist.github.io/2020/03/25/aNewWayToSyncSourceCodeOfHexo/</id>
    <published>2020-03-25T08:18:47.000Z</published>
    <updated>2020-10-27T16:17:12.780Z</updated>
    
    <content type="html"><![CDATA[<p>I never give up finding a way to update my blog conveniently. </p><a id="more"></a><h3 id="Let-me-upset"><a href="#Let-me-upset" class="headerlink" title="Let me upset"></a>Let me upset</h3><p>Thanks for GitHub pages and Hexo, you could read this page. However, in the past few years, I always spent too much time backing up the source code because of changing different computers in different places, which let me upset. I never give up finding a way to update my blog conveniently. </p><p>I used to manage the source code by git which I could push my source code to a branch of the repository on Github. And at the new place, I could download the code by git-clone. Unfortunately, I always took too much time to configure the ssh-key until it could work successfully. It doesn’t work for me, and I think it is high time to give up the old way!</p><h3 id="No-comma-why"><a href="#No-comma-why" class="headerlink" title="No comma, why?"></a>No comma, why?</h3><p>I build the site in Onedrive. This sounds great! Of course, I also need to install Git, Nodejs on the new computer; that’s all. <del>~ Why is there no comma in English? ~</del> The only thing I have to do in terms of configuration is adding the path of hexo-cli to my computer’s environment variable. The path of hexo-cli is just like this:<br><blue>C:\Users\Administrator\OneDrive\loglist\node_modules\hexo\bin</blue></p><h3 id="And-Then"><a href="#And-Then" class="headerlink" title="And Then"></a>And Then</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>start!!!</p>]]></content>
    
    
    <summary type="html">除了用github备份源码，还有什么方法更容易地同步博客吗</summary>
    
    
    
    <category term="Site" scheme="http://loglist.github.io/categories/Site/"/>
    
    
    <category term="Hexo" scheme="http://loglist.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>cSharpBase</title>
    <link href="http://loglist.github.io/2020/03/24/cSharpBase/"/>
    <id>http://loglist.github.io/2020/03/24/cSharpBase/</id>
    <published>2020-03-24T13:10:47.000Z</published>
    <updated>2020-10-27T16:16:21.651Z</updated>
    
    <content type="html"><![CDATA[<details blue><summary> class </summary>              <div class="content">              <p><btn regular><a href="/storage/html/csharp/class.html"><i class="fas fa-play-circle"></i> class</a></btn></p>              </div>            </details><a id="more"></a><details cyan><summary> base </summary>              <div class="content">              <p><btn regular><a href="/storage/html/csharp/base.html"><i class="fas fa-play-circle"></i> base</a></btn></p>              </div>            </details><details green><summary> method </summary>              <div class="content">              <p><btn regular><a href="/storage/html/csharp/method.html"><i class="fas fa-play-circle"></i> method</a></btn></p>              </div>            </details><details yellow><summary> constructor </summary>              <div class="content">              <p><btn regular><a href="/storage/html/csharp/constructor.html"><i class="fas fa-play-circle"></i> constructor</a></btn></p>              </div>            </details><details red><summary> operator </summary>              <div class="content">              <p><btn regular><a href="/storage/html/csharp/operator.html"><i class="fas fa-play-circle"></i> operator</a></btn></p>              </div>            </details>]]></content>
    
    
    <summary type="html">之前想研究一下revit二次开发来着，我放弃了</summary>
    
    
    
    <category term="Code" scheme="http://loglist.github.io/categories/Code/"/>
    
    
    <category term="C#" scheme="http://loglist.github.io/tags/C/"/>
    
  </entry>
  
</feed>
